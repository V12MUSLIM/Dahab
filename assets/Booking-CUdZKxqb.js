const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TestimonialsSection-CYHT5lL_.js","assets/framer-CThKW3MA.js","assets/router-Bg19EEV2.js","assets/react-vendor-OvXVS5lI.js","assets/index-CN7hAPZf.js","assets/radix-BI4OvP_J.js","assets/index-D4IYnlB4.css","assets/SocialMediaSection-Bf-cRs2-.js"])))=>i.map(i=>d[i]);
import{af as Ir,G as Yt,P as Lr,ar as Mr,a9 as Fe,p as gt,h as rt,am as bt,t as re,v as ce,w as le,x as ae,y as Ye,ak as Dr,as as zr,Z as de,ag as Re,F as qe,at as pa,q as At,au as fa,ao as xa,an as ha,ac as Ur,Y as Fr,n as ga,_ as $r}from"./index-CN7hAPZf.js";import{j as e,m as te,A as Ft}from"./framer-CThKW3MA.js";import{c as A,r as _,d as ba,u as ya}from"./router-Bg19EEV2.js";import{g as va}from"./react-vendor-OvXVS5lI.js";import{C as yt}from"./credit-card-BJ_sWjUv.js";import{U as qt}from"./utensils-crossed-BdW4IcyO.js";import{C as Vt}from"./coffee-DKXA4pp1.js";import{S as Wr}from"./shield-B0xnnyIO.js";import{u as Na}from"./useDestination-D24vQgBR.js";import{u as ja}from"./useExperience-BC0-1i0p.js";import{u as ka}from"./useDine-B1V5dcza.js";import"./radix-BI4OvP_J.js";const Ea=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sa=Ir("shield-check",Ea);const Ta=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],fr=Ir("wallet",Ta);var Hr="clover",wa=function(t){return t===3?"v3":t},Br="https://js.stripe.com",_a="".concat(Br,"/").concat(Hr,"/stripe.js"),Ca=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Aa=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Ra=function(t){return Ca.test(t)||Aa.test(t)},Oa=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Br,'"]')),s=0;s<t.length;s++){var n=t[s];if(Ra(n.src))return n}return null},xr=function(t){var s="",n=document.createElement("script");n.src="".concat(_a).concat(s);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(n),n},Pa=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.3.0",startTime:s})},Ve=null,dt=null,mt=null,Ia=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},La=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},Ma=function(t){return Ve!==null?Ve:(Ve=new Promise(function(s,n){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var o=Oa();if(!(o&&t)){if(!o)o=xr(t);else if(o&&mt!==null&&dt!==null){var l;o.removeEventListener("load",mt),o.removeEventListener("error",dt),(l=o.parentNode)===null||l===void 0||l.removeChild(o),o=xr(t)}}mt=La(s,n),dt=Ia(n),o.addEventListener("load",mt),o.addEventListener("error",dt)}catch(g){n(g);return}}),Ve.catch(function(s){return Ve=null,Promise.reject(s)}))},Da=function(t,s,n){if(t===null)return null;var o=s[0],l=o.match(/^pk_test/),g=wa(t.version),E=Hr;l&&g!==E&&console.warn("Stripe.js@".concat(g," was loaded on the page, but @stripe/stripe-js@").concat("8.3.0"," expected Stripe.js@").concat(E,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=t.apply(void 0,s);return Pa(i,n),i},Xe,Gr=!1,Yr=function(){return Xe||(Xe=Ma(null).catch(function(t){return Xe=null,Promise.reject(t)}),Xe)};Promise.resolve().then(function(){return Yr()}).catch(function(r){Gr||console.warn(r)});var qr=function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];Gr=!0;var o=Date.now();return Yr().then(function(l){return Da(l,s,o)})},Rt={exports:{}},Ot,hr;function za(){if(hr)return Ot;hr=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ot=r,Ot}var Pt,gr;function Ua(){if(gr)return Pt;gr=1;var r=za();function t(){}function s(){}return s.resetWarningCache=t,Pt=function(){function n(g,E,i,p,x,v){if(v!==r){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}n.isRequired=n;function o(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:s,resetWarningCache:t};return l.PropTypes=l,l},Pt}var br;function Fa(){return br||(br=1,Rt.exports=Ua()()),Rt.exports}var $a=Fa();const C=va($a);function yr(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,n)}return s}function vr(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?yr(Object(s),!0).forEach(function(n){Vr(r,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):yr(Object(s)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(s,n))})}return r}function ft(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ft=function(t){return typeof t}:ft=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(r)}function Vr(r,t,s){return t in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Wa(r,t){if(r==null)return{};var s={},n=Object.keys(r),o,l;for(l=0;l<n.length;l++)o=n[l],!(t.indexOf(o)>=0)&&(s[o]=r[o]);return s}function Ha(r,t){if(r==null)return{};var s=Wa(r,t),n,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(s[n]=r[n])}return s}function Xr(r,t){return Ba(r)||Ga(r,t)||Ya(r,t)||qa()}function Ba(r){if(Array.isArray(r))return r}function Ga(r,t){var s=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(s!=null){var n=[],o=!0,l=!1,g,E;try{for(s=s.call(r);!(o=(g=s.next()).done)&&(n.push(g.value),!(t&&n.length===t));o=!0);}catch(i){l=!0,E=i}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw E}}return n}}function Ya(r,t){if(r){if(typeof r=="string")return Nr(r,t);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Nr(r,t)}}function Nr(r,t){(t==null||t>r.length)&&(t=r.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=r[s];return n}function qa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q=function(t,s,n){var o=!!n,l=A.useRef(n);A.useEffect(function(){l.current=n},[n]),A.useEffect(function(){if(!o||!t)return function(){};var g=function(){l.current&&l.current.apply(l,arguments)};return t.on(s,g),function(){t.off(s,g)}},[o,s,t,l])},$t=function(t){var s=A.useRef(t);return A.useEffect(function(){s.current=t},[t]),s.current},$e=function(t){return t!==null&&ft(t)==="object"},Va=function(t){return $e(t)&&typeof t.then=="function"},Xa=function(t){return $e(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},jr="[object Object]",Ka=function r(t,s){if(!$e(t)||!$e(s))return t===s;var n=Array.isArray(t),o=Array.isArray(s);if(n!==o)return!1;var l=Object.prototype.toString.call(t)===jr,g=Object.prototype.toString.call(s)===jr;if(l!==g)return!1;if(!l&&!n)return t===s;var E=Object.keys(t),i=Object.keys(s);if(E.length!==i.length)return!1;for(var p={},x=0;x<E.length;x+=1)p[E[x]]=!0;for(var v=0;v<i.length;v+=1)p[i[v]]=!0;var j=Object.keys(p);if(j.length!==E.length)return!1;var Y=t,W=s,X=function(R){return r(Y[R],W[R])};return j.every(X)},Kr=function(t,s,n){return $e(t)?Object.keys(t).reduce(function(o,l){var g=!$e(s)||!Ka(t[l],s[l]);return n.includes(l)?(g&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),o):g?vr(vr({},o||{}),{},Vr({},l,t[l])):o},null):null},Jr="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",kr=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr;if(t===null||Xa(t))return t;throw new Error(s)},Ja=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr;if(Va(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(o){return kr(o,s)})};var n=kr(t,s);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},Za=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.3.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},vt=A.createContext(null);vt.displayName="ElementsContext";var Zr=function(t,s){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return t},Xt=function(t){var s=t.stripe,n=t.options,o=t.children,l=A.useMemo(function(){return Ja(s)},[s]),g=A.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(n):null}}),E=Xr(g,2),i=E[0],p=E[1];A.useEffect(function(){var j=!0,Y=function(X){p(function(T){return T.stripe?T:{stripe:X,elements:X.elements(n)}})};return l.tag==="async"&&!i.stripe?l.stripePromise.then(function(W){W&&j&&Y(W)}):l.tag==="sync"&&!i.stripe&&Y(l.stripe),function(){j=!1}},[l,i,n]);var x=$t(s);A.useEffect(function(){x!==null&&x!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[x,s]);var v=$t(n);return A.useEffect(function(){if(i.elements){var j=Kr(n,v,["clientSecret","fonts"]);j&&i.elements.update(j)}},[n,v,i.elements]),A.useEffect(function(){Za(i.stripe)},[i.stripe]),A.createElement(vt.Provider,{value:i},o)};Xt.propTypes={stripe:C.any,options:C.object};var Qa=function(t){var s=A.useContext(vt);return Zr(s,t)},es=function(){var t=Qa("calls useElements()"),s=t.elements;return s};C.func.isRequired;var Qr=A.createContext(null);Qr.displayName="CheckoutContext";C.any,C.shape({clientSecret:C.oneOfType([C.string,C.instanceOf(Promise)]).isRequired,elementsOptions:C.object}).isRequired;var Wt=function(t){var s=A.useContext(Qr),n=A.useContext(vt);if(s){if(n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return s}else return Zr(n,t)},ts=["mode"],rs=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},me=function(t,s){var n="".concat(rs(t),"Element"),o=function(i){var p=i.id,x=i.className,v=i.options,j=v===void 0?{}:v,Y=i.onBlur,W=i.onFocus,X=i.onReady,T=i.onChange,R=i.onEscape,O=i.onClick,I=i.onLoadError,S=i.onLoaderStart,z=i.onNetworksChange,xe=i.onConfirm,Ne=i.onCancel,K=i.onShippingAddressChange,we=i.onShippingRateChange,je=i.onSavedPaymentMethodRemove,D=i.onSavedPaymentMethodUpdate,B=Wt("mounts <".concat(n,">")),he="elements"in B?B.elements:null,ie="checkoutState"in B?B.checkoutState:null,y=ie?.type==="success"||ie?.type==="loading"?ie.sdk:null,_e=A.useState(null),Ce=Xr(_e,2),U=Ce[0],ge=Ce[1],Z=A.useRef(null),P=A.useRef(null);Q(U,"blur",Y),Q(U,"focus",W),Q(U,"escape",R),Q(U,"click",O),Q(U,"loaderror",I),Q(U,"loaderstart",S),Q(U,"networkschange",z),Q(U,"confirm",xe),Q(U,"cancel",Ne),Q(U,"shippingaddresschange",K),Q(U,"shippingratechange",we),Q(U,"savedpaymentmethodremove",je),Q(U,"savedpaymentmethodupdate",D),Q(U,"change",T);var pe;X&&(t==="expressCheckout"?pe=X:pe=function(){X(U)}),Q(U,"ready",pe),A.useLayoutEffect(function(){if(Z.current===null&&P.current!==null&&(he||y)){var F=null;if(y)switch(t){case"payment":F=y.createPaymentElement(j);break;case"address":if("mode"in j){var w=j.mode,ye=Ha(j,ts);if(w==="shipping")F=y.createShippingAddressElement(ye);else if(w==="billing")F=y.createBillingAddressElement(ye);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":F=y.createExpressCheckoutElement(j);break;case"currencySelector":F=y.createCurrencySelectorElement();break;case"taxId":F=y.createTaxIdElement(j);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else he&&(F=he.create(t,j));Z.current=F,ge(F),F&&F.mount(P.current)}},[he,y,j]);var M=$t(j);return A.useEffect(function(){if(Z.current){var F=Kr(j,M,["paymentRequest"]);F&&"update"in Z.current&&Z.current.update(F)}},[j,M]),A.useLayoutEffect(function(){return function(){if(Z.current&&typeof Z.current.destroy=="function")try{Z.current.destroy(),Z.current=null}catch{}}},[]),A.createElement("div",{id:p,className:x,ref:P})},l=function(i){Wt("mounts <".concat(n,">"));var p=i.id,x=i.className;return A.createElement("div",{id:p,className:x})},g=s?l:o;return g.propTypes={id:C.string,className:C.string,onChange:C.func,onBlur:C.func,onFocus:C.func,onReady:C.func,onEscape:C.func,onClick:C.func,onLoadError:C.func,onLoaderStart:C.func,onNetworksChange:C.func,onConfirm:C.func,onCancel:C.func,onShippingAddressChange:C.func,onShippingRateChange:C.func,onSavedPaymentMethodRemove:C.func,onSavedPaymentMethodUpdate:C.func,options:C.object},g.displayName=n,g.__elementType=t,g},ue=typeof window>"u",as=A.createContext(null);as.displayName="EmbeddedCheckoutProviderContext";var ss=function(){var t=Wt("calls useStripe()"),s=t.stripe;return s};me("auBankAccount",ue);me("card",ue);var Er=me("cardNumber",ue),ns=me("cardExpiry",ue),is=me("cardCvc",ue);me("iban",ue);me("payment",ue);me("expressCheckout",ue);me("paymentRequestButton",ue);me("linkAuthentication",ue);me("address",ue);me("shippingAddress",ue);me("paymentMethodMessaging",ue);me("taxId",ue);function os({steps:r,currentStep:t}){return e.jsx("div",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-orange-500/20 relative z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("ol",{className:"flex items-center justify-between w-full",children:r.map((s,n)=>{const o=t>s.id,l=t===s.id;return e.jsxs("li",{className:"flex items-center flex-1 relative",children:[e.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[e.jsx(te.div,{initial:{scale:.9},animate:{scale:l?1.05:1},transition:{duration:.3},className:`
                      w-12 h-12 lg:w-14 lg:h-14 rounded-full flex items-center justify-center
                      transition-all duration-300 border-2
                      ${o?"bg-amber-500 border-amber-600 text-white dark:bg-amber-500 dark:border-amber-600 dark:text-white":l?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-500/30 dark:bg-amber-500 dark:border-amber-500 dark:text-white dark:shadow-amber-500/30":"bg-gray-100 border-gray-300 text-gray-500 dark:bg-zinc-800 dark:border-zinc-700 dark:text-gray-400"}
                    `,children:o?e.jsx("svg",{className:"w-6 h-6 lg:w-7 lg:h-7",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):e.jsx(s.icon,{className:"w-6 h-6 lg:w-7 lg:h-7"})}),e.jsx("p",{className:`
                    mt-3 text-xs sm:text-sm font-medium text-center whitespace-nowrap
                    transition-colors duration-300
                    ${o||l?"text-amber-600 dark:text-amber-500":"text-gray-500 dark:text-gray-400"}
                  `,children:s.title})]}),n<r.length-1&&e.jsxs("div",{className:"flex-1 h-[2px] mx-3 sm:mx-4 relative",style:{top:"-24px"},children:[e.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-zinc-800 rounded-full"}),e.jsx(te.div,{initial:{width:"0%"},animate:{width:o?"100%":"0%"},transition:{duration:.5,ease:"easeInOut"},className:"absolute inset-0 bg-amber-500 dark:bg-amber-500 rounded-full"})]})]},s.id)})})})})}const ea=.12,We=[{id:1,title:"Trip Details",icon:Yt},{id:2,title:"Select Services",icon:Lr},{id:3,title:"Personal Info",icon:Mr},{id:4,title:"Review & Details",icon:Fe},{id:5,title:"Payment",icon:yt}];const{entries:ta,setPrototypeOf:Sr,isFrozen:cs,getPrototypeOf:ls,getOwnPropertyDescriptor:ds}=Object;let{freeze:se,seal:fe,create:Ht}=Object,{apply:Bt,construct:Gt}=typeof Reflect<"u"&&Reflect;se||(se=function(t){return t});fe||(fe=function(t){return t});Bt||(Bt=function(t,s){for(var n=arguments.length,o=new Array(n>2?n-2:0),l=2;l<n;l++)o[l-2]=arguments[l];return t.apply(s,o)});Gt||(Gt=function(t){for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];return new t(...n)});const ut=ne(Array.prototype.forEach),ms=ne(Array.prototype.lastIndexOf),Tr=ne(Array.prototype.pop),Ke=ne(Array.prototype.push),us=ne(Array.prototype.splice),xt=ne(String.prototype.toLowerCase),It=ne(String.prototype.toString),Lt=ne(String.prototype.match),Je=ne(String.prototype.replace),ps=ne(String.prototype.indexOf),fs=ne(String.prototype.trim),be=ne(Object.prototype.hasOwnProperty),ee=ne(RegExp.prototype.test),Ze=xs(TypeError);function ne(r){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];return Bt(r,t,n)}}function xs(r){return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return Gt(r,s)}}function N(r,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xt;Sr&&Sr(r,null);let n=t.length;for(;n--;){let o=t[n];if(typeof o=="string"){const l=s(o);l!==o&&(cs(t)||(t[n]=l),o=l)}r[o]=!0}return r}function hs(r){for(let t=0;t<r.length;t++)be(r,t)||(r[t]=null);return r}function Te(r){const t=Ht(null);for(const[s,n]of ta(r))be(r,s)&&(Array.isArray(n)?t[s]=hs(n):n&&typeof n=="object"&&n.constructor===Object?t[s]=Te(n):t[s]=n);return t}function Qe(r,t){for(;r!==null;){const n=ds(r,t);if(n){if(n.get)return ne(n.get);if(typeof n.value=="function")return ne(n.value)}r=ls(r)}function s(){return null}return s}const wr=se(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Mt=se(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dt=se(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),gs=se(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zt=se(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bs=se(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_r=se(["#text"]),Cr=se(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ut=se(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ar=se(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pt=se(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ys=fe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vs=fe(/<%[\w\W]*|[\w\W]*%>/gm),Ns=fe(/\$\{[\w\W]*/gm),js=fe(/^data-[\-\w.\u00B7-\uFFFF]+$/),ks=fe(/^aria-[\-\w]+$/),ra=fe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Es=fe(/^(?:\w+script|data):/i),Ss=fe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),aa=fe(/^html$/i),Ts=fe(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rr=Object.freeze({__proto__:null,ARIA_ATTR:ks,ATTR_WHITESPACE:Ss,CUSTOM_ELEMENT:Ts,DATA_ATTR:js,DOCTYPE_NAME:aa,ERB_EXPR:vs,IS_ALLOWED_URI:ra,IS_SCRIPT_OR_DATA:Es,MUSTACHE_EXPR:ys,TMPLIT_EXPR:Ns});const et={element:1,text:3,progressingInstruction:7,comment:8,document:9},ws=function(){return typeof window>"u"?null:window},_s=function(t,s){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const o="data-tt-policy-suffix";s&&s.hasAttribute(o)&&(n=s.getAttribute(o));const l="dompurify"+(n?"#"+n:"");try{return t.createPolicy(l,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},Or=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function sa(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ws();const t=f=>sa(f);if(t.version="3.3.0",t.removed=[],!r||!r.document||r.document.nodeType!==et.document||!r.Element)return t.isSupported=!1,t;let{document:s}=r;const n=s,o=n.currentScript,{DocumentFragment:l,HTMLTemplateElement:g,Node:E,Element:i,NodeFilter:p,NamedNodeMap:x=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:v,DOMParser:j,trustedTypes:Y}=r,W=i.prototype,X=Qe(W,"cloneNode"),T=Qe(W,"remove"),R=Qe(W,"nextSibling"),O=Qe(W,"childNodes"),I=Qe(W,"parentNode");if(typeof g=="function"){const f=s.createElement("template");f.content&&f.content.ownerDocument&&(s=f.content.ownerDocument)}let S,z="";const{implementation:xe,createNodeIterator:Ne,createDocumentFragment:K,getElementsByTagName:we}=s,{importNode:je}=n;let D=Or();t.isSupported=typeof ta=="function"&&typeof I=="function"&&xe&&xe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:he,TMPLIT_EXPR:ie,DATA_ATTR:y,ARIA_ATTR:_e,IS_SCRIPT_OR_DATA:Ce,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:ge}=Rr;let{IS_ALLOWED_URI:Z}=Rr,P=null;const pe=N({},[...wr,...Mt,...Dt,...zt,..._r]);let M=null;const F=N({},[...Cr,...Ut,...Ar,...pt]);let w=Object.seal(Ht(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,He=null;const h=Object.seal(Ht(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let m=!0,b=!0,k=!1,$=!0,Ae=!1,at=!0,Oe=!1,Nt=!1,jt=!1,Ie=!1,st=!1,nt=!1,Kt=!0,Jt=!1;const na="user-content-";let kt=!0,Be=!1,Le={},Me=null;const Zt=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qt=null;const er=N({},["audio","video","img","source","image","track"]);let Et=null;const tr=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",ot="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xhtml";let De=ke,St=!1,Tt=null;const ia=N({},[it,ot,ke],It);let ct=N({},["mi","mo","mn","ms","mtext"]),lt=N({},["annotation-xml"]);const oa=N({},["title","style","font","a","script"]);let Ge=null;const ca=["application/xhtml+xml","text/html"],la="text/html";let G=null,ze=null;const da=s.createElement("form"),rr=function(a){return a instanceof RegExp||a instanceof Function},wt=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ze&&ze===a)){if((!a||typeof a!="object")&&(a={}),a=Te(a),Ge=ca.indexOf(a.PARSER_MEDIA_TYPE)===-1?la:a.PARSER_MEDIA_TYPE,G=Ge==="application/xhtml+xml"?It:xt,P=be(a,"ALLOWED_TAGS")?N({},a.ALLOWED_TAGS,G):pe,M=be(a,"ALLOWED_ATTR")?N({},a.ALLOWED_ATTR,G):F,Tt=be(a,"ALLOWED_NAMESPACES")?N({},a.ALLOWED_NAMESPACES,It):ia,Et=be(a,"ADD_URI_SAFE_ATTR")?N(Te(tr),a.ADD_URI_SAFE_ATTR,G):tr,Qt=be(a,"ADD_DATA_URI_TAGS")?N(Te(er),a.ADD_DATA_URI_TAGS,G):er,Me=be(a,"FORBID_CONTENTS")?N({},a.FORBID_CONTENTS,G):Zt,ye=be(a,"FORBID_TAGS")?N({},a.FORBID_TAGS,G):Te({}),He=be(a,"FORBID_ATTR")?N({},a.FORBID_ATTR,G):Te({}),Le=be(a,"USE_PROFILES")?a.USE_PROFILES:!1,m=a.ALLOW_ARIA_ATTR!==!1,b=a.ALLOW_DATA_ATTR!==!1,k=a.ALLOW_UNKNOWN_PROTOCOLS||!1,$=a.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ae=a.SAFE_FOR_TEMPLATES||!1,at=a.SAFE_FOR_XML!==!1,Oe=a.WHOLE_DOCUMENT||!1,Ie=a.RETURN_DOM||!1,st=a.RETURN_DOM_FRAGMENT||!1,nt=a.RETURN_TRUSTED_TYPE||!1,jt=a.FORCE_BODY||!1,Kt=a.SANITIZE_DOM!==!1,Jt=a.SANITIZE_NAMED_PROPS||!1,kt=a.KEEP_CONTENT!==!1,Be=a.IN_PLACE||!1,Z=a.ALLOWED_URI_REGEXP||ra,De=a.NAMESPACE||ke,ct=a.MATHML_TEXT_INTEGRATION_POINTS||ct,lt=a.HTML_INTEGRATION_POINTS||lt,w=a.CUSTOM_ELEMENT_HANDLING||{},a.CUSTOM_ELEMENT_HANDLING&&rr(a.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(w.tagNameCheck=a.CUSTOM_ELEMENT_HANDLING.tagNameCheck),a.CUSTOM_ELEMENT_HANDLING&&rr(a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(w.attributeNameCheck=a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),a.CUSTOM_ELEMENT_HANDLING&&typeof a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(w.allowCustomizedBuiltInElements=a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ae&&(b=!1),st&&(Ie=!0),Le&&(P=N({},_r),M=[],Le.html===!0&&(N(P,wr),N(M,Cr)),Le.svg===!0&&(N(P,Mt),N(M,Ut),N(M,pt)),Le.svgFilters===!0&&(N(P,Dt),N(M,Ut),N(M,pt)),Le.mathMl===!0&&(N(P,zt),N(M,Ar),N(M,pt))),a.ADD_TAGS&&(typeof a.ADD_TAGS=="function"?h.tagCheck=a.ADD_TAGS:(P===pe&&(P=Te(P)),N(P,a.ADD_TAGS,G))),a.ADD_ATTR&&(typeof a.ADD_ATTR=="function"?h.attributeCheck=a.ADD_ATTR:(M===F&&(M=Te(M)),N(M,a.ADD_ATTR,G))),a.ADD_URI_SAFE_ATTR&&N(Et,a.ADD_URI_SAFE_ATTR,G),a.FORBID_CONTENTS&&(Me===Zt&&(Me=Te(Me)),N(Me,a.FORBID_CONTENTS,G)),kt&&(P["#text"]=!0),Oe&&N(P,["html","head","body"]),P.table&&(N(P,["tbody"]),delete ye.tbody),a.TRUSTED_TYPES_POLICY){if(typeof a.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ze('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof a.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ze('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=a.TRUSTED_TYPES_POLICY,z=S.createHTML("")}else S===void 0&&(S=_s(Y,o)),S!==null&&typeof z=="string"&&(z=S.createHTML(""));se&&se(a),ze=a}},ar=N({},[...Mt,...Dt,...gs]),sr=N({},[...zt,...bs]),ma=function(a){let c=I(a);(!c||!c.tagName)&&(c={namespaceURI:De,tagName:"template"});const d=xt(a.tagName),L=xt(c.tagName);return Tt[a.namespaceURI]?a.namespaceURI===ot?c.namespaceURI===ke?d==="svg":c.namespaceURI===it?d==="svg"&&(L==="annotation-xml"||ct[L]):!!ar[d]:a.namespaceURI===it?c.namespaceURI===ke?d==="math":c.namespaceURI===ot?d==="math"&&lt[L]:!!sr[d]:a.namespaceURI===ke?c.namespaceURI===ot&&!lt[L]||c.namespaceURI===it&&!ct[L]?!1:!sr[d]&&(oa[d]||!ar[d]):!!(Ge==="application/xhtml+xml"&&Tt[a.namespaceURI]):!1},ve=function(a){Ke(t.removed,{element:a});try{I(a).removeChild(a)}catch{T(a)}},Pe=function(a,c){try{Ke(t.removed,{attribute:c.getAttributeNode(a),from:c})}catch{Ke(t.removed,{attribute:null,from:c})}if(c.removeAttribute(a),a==="is")if(Ie||st)try{ve(c)}catch{}else try{c.setAttribute(a,"")}catch{}},nr=function(a){let c=null,d=null;if(jt)a="<remove></remove>"+a;else{const H=Lt(a,/^[\r\n\t ]+/);d=H&&H[0]}Ge==="application/xhtml+xml"&&De===ke&&(a='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+a+"</body></html>");const L=S?S.createHTML(a):a;if(De===ke)try{c=new j().parseFromString(L,Ge)}catch{}if(!c||!c.documentElement){c=xe.createDocument(De,"template",null);try{c.documentElement.innerHTML=St?z:L}catch{}}const J=c.body||c.documentElement;return a&&d&&J.insertBefore(s.createTextNode(d),J.childNodes[0]||null),De===ke?we.call(c,Oe?"html":"body")[0]:Oe?c.documentElement:J},ir=function(a){return Ne.call(a.ownerDocument||a,a,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},_t=function(a){return a instanceof v&&(typeof a.nodeName!="string"||typeof a.textContent!="string"||typeof a.removeChild!="function"||!(a.attributes instanceof x)||typeof a.removeAttribute!="function"||typeof a.setAttribute!="function"||typeof a.namespaceURI!="string"||typeof a.insertBefore!="function"||typeof a.hasChildNodes!="function")},or=function(a){return typeof E=="function"&&a instanceof E};function Ee(f,a,c){ut(f,d=>{d.call(t,a,c,ze)})}const cr=function(a){let c=null;if(Ee(D.beforeSanitizeElements,a,null),_t(a))return ve(a),!0;const d=G(a.nodeName);if(Ee(D.uponSanitizeElement,a,{tagName:d,allowedTags:P}),at&&a.hasChildNodes()&&!or(a.firstElementChild)&&ee(/<[/\w!]/g,a.innerHTML)&&ee(/<[/\w!]/g,a.textContent)||a.nodeType===et.progressingInstruction||at&&a.nodeType===et.comment&&ee(/<[/\w]/g,a.data))return ve(a),!0;if(!(h.tagCheck instanceof Function&&h.tagCheck(d))&&(!P[d]||ye[d])){if(!ye[d]&&dr(d)&&(w.tagNameCheck instanceof RegExp&&ee(w.tagNameCheck,d)||w.tagNameCheck instanceof Function&&w.tagNameCheck(d)))return!1;if(kt&&!Me[d]){const L=I(a)||a.parentNode,J=O(a)||a.childNodes;if(J&&L){const H=J.length;for(let oe=H-1;oe>=0;--oe){const Se=X(J[oe],!0);Se.__removalCount=(a.__removalCount||0)+1,L.insertBefore(Se,R(a))}}}return ve(a),!0}return a instanceof i&&!ma(a)||(d==="noscript"||d==="noembed"||d==="noframes")&&ee(/<\/no(script|embed|frames)/i,a.innerHTML)?(ve(a),!0):(Ae&&a.nodeType===et.text&&(c=a.textContent,ut([B,he,ie],L=>{c=Je(c,L," ")}),a.textContent!==c&&(Ke(t.removed,{element:a.cloneNode()}),a.textContent=c)),Ee(D.afterSanitizeElements,a,null),!1)},lr=function(a,c,d){if(Kt&&(c==="id"||c==="name")&&(d in s||d in da))return!1;if(!(b&&!He[c]&&ee(y,c))){if(!(m&&ee(_e,c))){if(!(h.attributeCheck instanceof Function&&h.attributeCheck(c,a))){if(!M[c]||He[c]){if(!(dr(a)&&(w.tagNameCheck instanceof RegExp&&ee(w.tagNameCheck,a)||w.tagNameCheck instanceof Function&&w.tagNameCheck(a))&&(w.attributeNameCheck instanceof RegExp&&ee(w.attributeNameCheck,c)||w.attributeNameCheck instanceof Function&&w.attributeNameCheck(c,a))||c==="is"&&w.allowCustomizedBuiltInElements&&(w.tagNameCheck instanceof RegExp&&ee(w.tagNameCheck,d)||w.tagNameCheck instanceof Function&&w.tagNameCheck(d))))return!1}else if(!Et[c]){if(!ee(Z,Je(d,U,""))){if(!((c==="src"||c==="xlink:href"||c==="href")&&a!=="script"&&ps(d,"data:")===0&&Qt[a])){if(!(k&&!ee(Ce,Je(d,U,"")))){if(d)return!1}}}}}}}return!0},dr=function(a){return a!=="annotation-xml"&&Lt(a,ge)},mr=function(a){Ee(D.beforeSanitizeAttributes,a,null);const{attributes:c}=a;if(!c||_t(a))return;const d={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:M,forceKeepAttr:void 0};let L=c.length;for(;L--;){const J=c[L],{name:H,namespaceURI:oe,value:Se}=J,Ue=G(H),Ct=Se;let q=H==="value"?Ct:fs(Ct);if(d.attrName=Ue,d.attrValue=q,d.keepAttr=!0,d.forceKeepAttr=void 0,Ee(D.uponSanitizeAttribute,a,d),q=d.attrValue,Jt&&(Ue==="id"||Ue==="name")&&(Pe(H,a),q=na+q),at&&ee(/((--!?|])>)|<\/(style|title|textarea)/i,q)){Pe(H,a);continue}if(Ue==="attributename"&&Lt(q,"href")){Pe(H,a);continue}if(d.forceKeepAttr)continue;if(!d.keepAttr){Pe(H,a);continue}if(!$&&ee(/\/>/i,q)){Pe(H,a);continue}Ae&&ut([B,he,ie],pr=>{q=Je(q,pr," ")});const ur=G(a.nodeName);if(!lr(ur,Ue,q)){Pe(H,a);continue}if(S&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!oe)switch(Y.getAttributeType(ur,Ue)){case"TrustedHTML":{q=S.createHTML(q);break}case"TrustedScriptURL":{q=S.createScriptURL(q);break}}if(q!==Ct)try{oe?a.setAttributeNS(oe,H,q):a.setAttribute(H,q),_t(a)?ve(a):Tr(t.removed)}catch{Pe(H,a)}}Ee(D.afterSanitizeAttributes,a,null)},ua=function f(a){let c=null;const d=ir(a);for(Ee(D.beforeSanitizeShadowDOM,a,null);c=d.nextNode();)Ee(D.uponSanitizeShadowNode,c,null),cr(c),mr(c),c.content instanceof l&&f(c.content);Ee(D.afterSanitizeShadowDOM,a,null)};return t.sanitize=function(f){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=null,d=null,L=null,J=null;if(St=!f,St&&(f="<!-->"),typeof f!="string"&&!or(f))if(typeof f.toString=="function"){if(f=f.toString(),typeof f!="string")throw Ze("dirty is not a string, aborting")}else throw Ze("toString is not a function");if(!t.isSupported)return f;if(Nt||wt(a),t.removed=[],typeof f=="string"&&(Be=!1),Be){if(f.nodeName){const Se=G(f.nodeName);if(!P[Se]||ye[Se])throw Ze("root node is forbidden and cannot be sanitized in-place")}}else if(f instanceof E)c=nr("<!---->"),d=c.ownerDocument.importNode(f,!0),d.nodeType===et.element&&d.nodeName==="BODY"||d.nodeName==="HTML"?c=d:c.appendChild(d);else{if(!Ie&&!Ae&&!Oe&&f.indexOf("<")===-1)return S&&nt?S.createHTML(f):f;if(c=nr(f),!c)return Ie?null:nt?z:""}c&&jt&&ve(c.firstChild);const H=ir(Be?f:c);for(;L=H.nextNode();)cr(L),mr(L),L.content instanceof l&&ua(L.content);if(Be)return f;if(Ie){if(st)for(J=K.call(c.ownerDocument);c.firstChild;)J.appendChild(c.firstChild);else J=c;return(M.shadowroot||M.shadowrootmode)&&(J=je.call(n,J,!0)),J}let oe=Oe?c.outerHTML:c.innerHTML;return Oe&&P["!doctype"]&&c.ownerDocument&&c.ownerDocument.doctype&&c.ownerDocument.doctype.name&&ee(aa,c.ownerDocument.doctype.name)&&(oe="<!DOCTYPE "+c.ownerDocument.doctype.name+`>
`+oe),Ae&&ut([B,he,ie],Se=>{oe=Je(oe,Se," ")}),S&&nt?S.createHTML(oe):oe},t.setConfig=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wt(f),Nt=!0},t.clearConfig=function(){ze=null,Nt=!1},t.isValidAttribute=function(f,a,c){ze||wt({});const d=G(f),L=G(a);return lr(d,L,c)},t.addHook=function(f,a){typeof a=="function"&&Ke(D[f],a)},t.removeHook=function(f,a){if(a!==void 0){const c=ms(D[f],a);return c===-1?void 0:us(D[f],c,1)[0]}return Tr(D[f])},t.removeHooks=function(f){D[f]=[]},t.removeAllHooks=function(){D=Or()},t}var Cs=sa();const V=r=>typeof r=="string"?Cs.sanitize(r,{ALLOWED_TAGS:[]}).trim():r,u=r=>Array.isArray(r)?r:[];function As({bookingData:r,nights:t,subtotal:s,taxes:n,total:o,destinations:l=[],flatExperiences:g=[],restaurants:E=[],cafes:i=[],hotels:p=[]}){const x=()=>{if(!r.includeStay||!r.roomType)return 0;const T=p.find(O=>O.id===r.roomType);return T?(T.pricePerNight||T.price||0)*t:(We.find(O=>O.value===r.roomType)?.price||0)*t},v=()=>u(r.selectedDestinations).reduce((R,O)=>{const I=l.find(S=>S.id===O);return R+(I?.price||50)},0),j=()=>u(r.selectedExperiences).reduce((R,O)=>{const I=g.find(S=>S.id===O);return R+(I?.price||75)},0),Y=()=>u(r.selectedRestaurants).reduce((R,O)=>{const I=E.find(S=>S.id===O);return R+(I?.price||40)},0),W=()=>u(r.selectedCafes).reduce((R,O)=>{const I=i.find(S=>S.id===O);return R+(I?.price||15)},0),X=[{condition:!!r.includeStay&&!!r.roomType,icon:gt,label:`Stay (${t} night${t!==1?"s":""})`,price:x()},{condition:u(r.selectedDestinations).length>0,icon:rt,label:`Destinations (${u(r.selectedDestinations).length})`,price:v()},{condition:u(r.selectedExperiences).length>0,icon:bt,label:`Experiences (${u(r.selectedExperiences).length})`,price:j()},{condition:u(r.selectedRestaurants).length>0,icon:qt,label:`Restaurants (${u(r.selectedRestaurants).length})`,price:Y()},{condition:u(r.selectedCafes).length>0,icon:Vt,label:`Cafes (${u(r.selectedCafes).length})`,price:W()}];return e.jsxs(re,{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/40 dark:to-amber-950/60 border-amber-200 dark:border-amber-700/40 transition-all duration-300 hover:shadow-lg",children:[e.jsx(ce,{className:"border-b border-amber-200 dark:border-amber-700/30 pb-4",children:e.jsxs(le,{className:"text-lg font-semibold text-gray-900 dark:text-amber-100 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 dark:text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Booking Summary"]})}),e.jsxs(ae,{className:"space-y-3 text-sm pt-5",children:[X.map((T,R)=>T.condition&&e.jsxs("div",{className:"flex items-center justify-between text-gray-700 dark:text-amber-100/90 hover:text-gray-900 dark:hover:text-amber-50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T.icon,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"}),e.jsx("span",{className:"font-medium",children:T.label})]}),e.jsxs("span",{className:"font-semibold text-amber-700 dark:text-amber-400",children:["$",T.price]})]},R)),e.jsxs("div",{className:"border-t border-amber-200 dark:border-amber-700/30 pt-3 flex justify-between text-gray-600 dark:text-amber-200/80",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["$",s]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-amber-200/80",children:[e.jsxs("span",{children:["Tax (",Math.round(ea*100),"%)"]}),e.jsxs("span",{className:"font-medium",children:["$",n]})]}),e.jsxs("div",{className:"border-t border-amber-300 dark:border-amber-700/40 pt-4 flex justify-between items-center",children:[e.jsx("span",{className:"text-base font-bold text-gray-900 dark:text-amber-50",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-amber-700 dark:text-amber-500",children:["$",o]})]})]})]})}function Rs(){return e.jsxs(re,{children:[e.jsx(ce,{children:e.jsxs(le,{className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"w-5 h-5 text-yellow-600"})," Why Book With Us?"]})}),e.jsx(ae,{children:e.jsxs("ul",{className:"text-sm space-y-1 text-gray-600 dark:text-yellow-50",children:[e.jsxs("li",{children:[e.jsx(Ye,{className:"w-4 h-4 text-yellow-600"})," Free cancellation up to 24h"]}),e.jsxs("li",{children:[e.jsx(Ye,{className:"w-4 h-4 text-yellow-600"})," Best price guarantee"]}),e.jsxs("li",{children:[e.jsx(Ye,{className:"w-4 h-4 text-yellow-600"})," 24/7 customer support"]}),e.jsxs("li",{children:[e.jsx(Ye,{className:"w-4 h-4 text-yellow-600"})," Secure Stripe payments"]}),e.jsxs("li",{children:[e.jsx(Ye,{className:"w-4 h-4 text-yellow-600"})," Instant confirmation"]})]})})]})}function ht({text:r,onDismiss:t,dismissible:s=!0}){const[n,o]=_.useState(!0);if(!r||!n)return null;const l=()=>{o(!1),t?.()};return e.jsx(Ft,{children:e.jsxs(te.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:`flex items-start gap-3 p-4 \r
                   bg-red-50 dark:bg-red-900/20 \r
                   border border-red-200 dark:border-red-800/40 \r
                   rounded-lg shadow-sm\r
                   backdrop-blur-sm`,role:"alert",children:[e.jsx(Dr,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"flex-1 text-sm font-medium text-red-800 dark:text-red-200 leading-relaxed",children:r}),s&&e.jsx("button",{onClick:l,className:`text-red-600 dark:text-red-400 \r
                       hover:text-red-800 dark:hover:text-red-200 \r
                       hover:bg-red-100 dark:hover:bg-red-900/30\r
                       rounded p-1\r
                       transition-all duration-200`,"aria-label":"Dismiss error",children:e.jsx(zr,{className:"w-4 h-4"})})]})})}function Os({bookingData:r,updateBookingData:t,validationErrors:s,nights:n}){return e.jsx("div",{className:"space-y-6",children:e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsx(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(Yt,{className:"w-6 h-6 text-amber-600 dark:text-amber-500"})," Trip Dates"]})}),e.jsxs(ae,{className:"space-y-4 pt-6",children:[s.dates&&e.jsx(ht,{text:s.dates}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(de,{htmlFor:"checkIn",className:"text-gray-700 dark:text-gray-300",children:"Check-in"}),e.jsx(Re,{id:"checkIn",type:"date",value:r.checkIn,onChange:o=>t("checkIn",o.target.value),className:"bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white focus:border-amber-500 focus:ring-amber-500"})]}),e.jsxs("div",{children:[e.jsx(de,{htmlFor:"checkOut",className:"text-gray-700 dark:text-gray-300",children:"Check-out"}),e.jsx(Re,{id:"checkOut",type:"date",value:r.checkOut,onChange:o=>t("checkOut",o.target.value),className:"bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white focus:border-amber-500 focus:ring-amber-500"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(de,{className:"text-gray-700 dark:text-gray-300",children:"Adults"}),e.jsx(Re,{type:"number",value:r.adults,min:"1",onChange:o=>t("adults",o.target.value),className:"bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white focus:border-amber-500 focus:ring-amber-500"})]}),e.jsxs("div",{children:[e.jsx(de,{className:"text-gray-700 dark:text-gray-300",children:"Children"}),e.jsx(Re,{type:"number",value:r.children,min:"0",onChange:o=>t("children",o.target.value),className:"bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white focus:border-amber-500 focus:ring-amber-500"})]})]}),n>0&&e.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-900/40 rounded-lg flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"}),e.jsxs("p",{className:"text-amber-900 dark:text-amber-100",children:[n," night",n>1&&"s"," total"]})]})]})]})})}function Ps({bookingData:r,destinations:t=[],flatExperiences:s=[],toggleItem:n,updateBookingData:o,restaurants:l=[],cafes:g=[],hotels:E=[]}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsxs(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:[e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(gt,{className:"w-6 h-6 text-amber-600 dark:text-amber-500"})," Accommodation"]}),e.jsx(qe,{className:"text-gray-600 dark:text-gray-400",children:"Choose whether to include a hotel stay"})]}),e.jsxs(ae,{className:"space-y-4 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-zinc-800 p-4 rounded-lg border border-gray-200 dark:border-zinc-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-amber-50",children:"Include Stay"}),e.jsx(pa,{checked:r.includeStay,onCheckedChange:i=>o("includeStay",i),className:"data-[state=checked]:bg-amber-500"})]}),r.includeStay&&e.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},children:[e.jsx(de,{className:"text-gray-700 dark:text-gray-300 mb-3 block",children:"Select Room Type"}),e.jsx("div",{className:"grid gap-3",children:u(E).length>0?u(E).map(i=>{const p=r.roomType===i.id;return e.jsxs(te.div,{whileHover:{scale:1.01},onClick:()=>o("roomType",i.id),className:`p-4 border-2 rounded-lg cursor-pointer flex justify-between items-start transition-all duration-200 ${p?"border-amber-500 bg-amber-50 dark:bg-amber-950/30":"border-gray-300 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800/50 hover:border-amber-500/50"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(gt,{className:"w-6 h-6 text-amber-600 dark:text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-amber-50",children:V(i.name||i.title)}),i.location&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-center gap-1 mt-1",children:[e.jsx(rt,{className:"w-3 h-3"}),V(i.location)]})]})]}),i.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:V(i.description)}),i.amenities&&u(i.amenities).length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:u(i.amenities).slice(0,3).map((x,v)=>e.jsx("span",{className:"text-xs bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 px-2 py-1 rounded",children:V(x)},v))}),i.rating&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2 flex items-center gap-1",children:[e.jsx(At,{className:"w-3 h-3 text-amber-600 dark:text-amber-500"}),i.rating,"  ",i.reviews||0," reviews"]})]}),e.jsxs("div",{className:"ml-4 text-right",children:[e.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-500 text-lg",children:["$",i.pricePerNight||i.price||0]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"per night"})]})]},i.id)}):We.map(i=>{const p=r.roomType===i.value;return e.jsxs("div",{onClick:()=>o("roomType",i.value),className:`p-4 border-2 rounded-lg cursor-pointer flex justify-between transition-all duration-200 hover:border-amber-500/50 ${p?"border-amber-500 bg-amber-50 dark:bg-amber-950/30":"border-gray-300 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i.icon,{className:"w-6 h-6 text-amber-600 dark:text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-amber-50",children:i.label}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:i.description})]})]}),e.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-500",children:["$",i.price]})]},i.value)})})]})]})]}),u(t).length>0&&e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsxs(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:[e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(rt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Destinations"]}),e.jsx(qe,{className:"text-gray-600 dark:text-gray-400",children:"Select destinations to visit"})]}),e.jsx(ae,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pt-6",children:u(t).map((i,p)=>{const x=i.id||p,v=u(r.selectedDestinations).includes(x),j=i.price||50;return e.jsxs(te.div,{whileHover:{scale:1.02},onClick:()=>n("selectedDestinations",x),className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 min-h-[120px] ${v?"border-amber-500 bg-amber-50 dark:bg-amber-950/30":"border-gray-300 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800/50 hover:border-amber-500/50"}`,children:[v&&e.jsx(Fe,{className:"absolute right-2 top-2 w-5 h-5 text-amber-600 dark:text-amber-500"}),e.jsx(rt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500 mb-2"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-amber-50 line-clamp-2 mb-1",children:V(i.name||i.title||`Destination ${x}`)}),i.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:V(i.description)}),e.jsxs("p",{className:"text-sm font-bold text-amber-700 dark:text-amber-500",children:["$",j]})]},x)})})]}),u(s).length>0&&e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsxs(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:[e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(bt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Experiences"]}),e.jsx(qe,{className:"text-gray-600 dark:text-gray-400",children:"Choose exciting experiences"})]}),e.jsx(ae,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 pt-6",children:u(s).map((i,p)=>{const x=i.id||p,v=u(r.selectedExperiences).includes(x),j=i.price||75;return e.jsxs(te.div,{whileHover:{scale:1.02},onClick:()=>n("selectedExperiences",x),className:`relative p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 min-h-[130px] ${v?"border-amber-500 bg-amber-50 dark:bg-amber-950/30":"border-gray-300 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800/50 hover:border-amber-500/50"}`,children:[v&&e.jsx(Fe,{className:"absolute right-2 top-2 w-5 h-5 text-amber-600 dark:text-amber-500"}),e.jsx(bt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500 mb-2"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-amber-50 line-clamp-2 mb-1",children:V(i.title||i.name||`Experience ${x}`)}),i.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:V(i.description)}),i.duration&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:[" ",i.duration]}),e.jsxs("p",{className:"text-sm font-bold text-amber-700 dark:text-amber-500",children:["$",j]})]},x)})})]}),u(l).length>0&&e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsxs(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:[e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(qt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Restaurants"]}),e.jsx(qe,{className:"text-gray-600 dark:text-gray-400",children:"Reserve tables at fine dining"})]}),e.jsx(ae,{className:"grid gap-3 pt-6",children:u(l).map(i=>{const p=u(r.selectedRestaurants).includes(i.id),x=i.price||40;return e.jsxs(te.div,{whileHover:{scale:1.01},onClick:()=>n("selectedRestaurants",i.id),className:`p-4 border-2 rounded-lg cursor-pointer flex justify-between items-start transition-all duration-200 ${p?"border-amber-500 bg-amber-50 dark:bg-amber-950/30":"border-gray-300 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800/50 hover:border-amber-500/50"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-amber-50",children:V(i.name||`Restaurant ${i.id}`)}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 flex items-center gap-1",children:[i.cuisine||"Cuisine"," "," ",e.jsx(At,{className:"w-3 h-3 inline text-amber-600 dark:text-amber-500"})," ",i.rating||"N/A"]}),i.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:V(i.description)})]}),e.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-500 ml-4",children:["$",x]})]},i.id)})})]}),u(g).length>0&&e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsxs(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:[e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(Vt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Cafes"]}),e.jsx(qe,{className:"text-gray-600 dark:text-gray-400",children:"Enjoy coffee and refreshments"})]}),e.jsx(ae,{className:"grid gap-3 pt-6",children:u(g).map(i=>{const p=u(r.selectedCafes).includes(i.id),x=i.price||15;return e.jsxs(te.div,{whileHover:{scale:1.01},onClick:()=>n("selectedCafes",i.id),className:`p-4 border-2 rounded-lg cursor-pointer flex justify-between items-start transition-all duration-200 ${p?"border-amber-500 bg-amber-50 dark:bg-amber-950/30":"border-gray-300 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800/50 hover:border-amber-500/50"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-amber-50",children:V(i.name||`Cafe ${i.id}`)}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 flex items-center gap-1",children:[i.specialty||"Specialty"," "," ",e.jsx(At,{className:"w-3 h-3 inline text-amber-600 dark:text-amber-500"})," ",i.rating||"N/A"]}),i.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:V(i.description)})]}),e.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-500 ml-4",children:["$",x]})]},i.id)})})]})]})}function Is({bookingData:r,updateBookingData:t,validationErrors:s}){return e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsx(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(Mr,{className:"w-6 h-6 text-amber-600 dark:text-amber-500"}),"Your Information"]})}),e.jsxs(ae,{className:"space-y-4 pt-6",children:[s.name&&e.jsx(ht,{text:s.name}),s.email&&e.jsx(ht,{text:s.email}),s.phone&&e.jsx(ht,{text:s.phone}),e.jsxs("div",{children:[e.jsx(de,{htmlFor:"name",className:"text-gray-700 dark:text-gray-300",children:"Full Name"}),e.jsx(Re,{id:"name",value:r.name,onChange:n=>t("name",n.target.value),className:"bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white focus:border-amber-500 focus:ring-amber-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(de,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(Re,{id:"email",type:"email",value:r.email,onChange:n=>t("email",n.target.value),className:"bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white focus:border-amber-500 focus:ring-amber-500",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx(de,{htmlFor:"phone",className:"text-gray-700 dark:text-gray-300",children:"Phone"}),e.jsx(Re,{id:"phone",type:"tel",value:r.phone,onChange:n=>t("phone",n.target.value),className:"bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white focus:border-amber-500 focus:ring-amber-500",placeholder:"+20 123 456 7890"})]})]}),e.jsxs("div",{children:[e.jsx(de,{htmlFor:"specialRequests",className:"text-gray-700 dark:text-gray-300",children:"Special Requests"}),e.jsx("textarea",{id:"specialRequests",rows:"4",className:"w-full border-2 rounded-lg p-3 bg-gray-50 dark:bg-zinc-800 border-gray-300 dark:border-zinc-700 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:border-amber-500 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-colors duration-200",value:r.specialRequests,onChange:n=>t("specialRequests",n.target.value),placeholder:"Any special requests or requirements..."})]})]})]})}function Ls({bookingData:r,nights:t,subtotal:s,taxes:n,total:o,destinations:l,flatExperiences:g,restaurants:E=[],cafes:i=[]}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsx(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(Yt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Trip Summary"]})}),e.jsxs(ae,{className:"grid md:grid-cols-2 gap-4 pt-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check-in"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.checkIn})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check-out"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.checkOut})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Nights"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Guests"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:+r.adults+ +r.children})]})]})]}),r.includeStay&&e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsx(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(gt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Accommodation"]})}),e.jsxs(ae,{className:"flex justify-between items-start pt-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:We.find(p=>p.value===r.roomType)?.label||"Room Selected"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t," nights"]})]}),e.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-500",children:["$",(We.find(p=>p.value===r.roomType)?.price||0)*t]})]})]}),(u(r.selectedDestinations).length>0||u(r.selectedExperiences).length>0||u(r.selectedRestaurants).length>0||u(r.selectedCafes).length>0)&&e.jsxs(re,{className:"bg-white dark:bg-zinc-900 border-gray-200 dark:border-zinc-800",children:[e.jsx(ce,{className:"border-b border-gray-200 dark:border-zinc-800",children:e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-50",children:[e.jsx(Lr,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Selected Services"]})}),e.jsxs(ae,{className:"space-y-4 pt-6",children:[u(r.selectedDestinations).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2 text-gray-900 dark:text-amber-50",children:[e.jsx(rt,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"})," Destinations"]}),u(r.selectedDestinations).map(p=>{const x=l.find(v=>v.id===p);return e.jsxs("p",{className:"text-sm flex justify-between border-b border-gray-200 dark:border-zinc-700 py-2 text-gray-700 dark:text-gray-300",children:[e.jsx("span",{children:V(x?.name||`Destination ${p}`)}),e.jsx("span",{className:"font-semibold text-amber-700 dark:text-amber-500",children:"$50"})]},p)})]}),u(r.selectedExperiences).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2 text-gray-900 dark:text-amber-50",children:[e.jsx(bt,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"})," Experiences"]}),u(r.selectedExperiences).map(p=>{const x=g.find(v=>v.id===p);return e.jsxs("p",{className:"text-sm flex justify-between border-b border-gray-200 dark:border-zinc-700 py-2 text-gray-700 dark:text-gray-300",children:[e.jsx("span",{children:V(x?.title||`Experience ${p}`)}),e.jsx("span",{className:"font-semibold text-amber-700 dark:text-amber-500",children:"$75"})]},p)})]}),u(r.selectedRestaurants).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2 text-gray-900 dark:text-amber-50",children:[e.jsx(qt,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"})," Restaurants"]}),u(r.selectedRestaurants).map(p=>{const x=E.find(v=>v.id===p);return e.jsxs("p",{className:"text-sm flex justify-between border-b border-gray-200 dark:border-zinc-700 py-2 text-gray-700 dark:text-gray-300",children:[e.jsx("span",{children:V(x?.name||`Restaurant ${p}`)}),e.jsxs("span",{className:"font-semibold text-amber-700 dark:text-amber-500",children:["$",x?.price||40]})]},p)})]}),u(r.selectedCafes).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-2 text-gray-900 dark:text-amber-50",children:[e.jsx(Vt,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"})," Cafes"]}),u(r.selectedCafes).map(p=>{const x=i.find(v=>v.id===p);return e.jsxs("p",{className:"text-sm flex justify-between border-b border-gray-200 dark:border-zinc-700 py-2 text-gray-700 dark:text-gray-300",children:[e.jsx("span",{children:V(x?.name||`Cafe ${p}`)}),e.jsxs("span",{className:"font-semibold text-amber-700 dark:text-amber-500",children:["$",x?.price||15]})]},p)})]})]})]}),e.jsxs(re,{className:"bg-gradient-to-r from-yellow-600/10 to-yellow-700/10 dark:from-yellow-600/20 dark:to-yellow-700/20 border-yellow-600/20 transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl",children:[e.jsx(ce,{className:"border-b border-amber-200 dark:border-amber-700/30",children:e.jsxs(le,{className:"flex items-center gap-2 text-gray-900 dark:text-amber-100",children:[e.jsx(yt,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"})," Total"]})}),e.jsxs(ae,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-700 dark:text-amber-100/90 mb-2",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["$",s]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-700 dark:text-amber-100/90 mb-3",children:[e.jsxs("span",{children:["Tax (",Math.round(100*.12),"%)"]}),e.jsxs("span",{className:"font-medium",children:["$",n]})]}),e.jsxs("div",{className:"flex justify-between border-t border-amber-300 dark:border-amber-700/40 pt-3 text-lg font-bold text-gray-900 dark:text-amber-50",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-amber-700 dark:text-amber-500",children:["$",o]})]})]})]})]})}function Ms({bookingData:r,total:t,onSubmit:s,onPrev:n,loading:o,error:l}){const g=ss(),E=es(),[i,p]=_.useState(!1),[x,v]=_.useState(null),[j,Y]=_.useState(""),[W,X]=_.useState("Egypt"),[T,R]=_.useState(null),O={base:{color:"#1f2937",fontFamily:"Inter, Roboto, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#9ca3af"},iconColor:"#d97706"},invalid:{color:"#ef4444",iconColor:"#ef4444"}},I={base:{color:"#f1f1f1",fontFamily:"Inter, Roboto, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#9ca3af"},iconColor:"#f59e0b"},invalid:{color:"#ef4444",iconColor:"#ef4444"}},S=async K=>{if(K.preventDefault(),v(null),!(!g||!E)){p(!0);try{const we=await fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t})}),{client_secret:je}=await we.json(),D=E.getElement(Er),B=await g.confirmCardPayment(je,{payment_method:{card:D,billing_details:{name:j||r.name,email:r.email,phone:r.phone,address:{country:W}}}});B.error?v(B.error.message):B.paymentIntent.status==="succeeded"&&s(B.paymentIntent)}catch{v("Payment failed. Please try again.")}p(!1)}},z=K=>{K.brand&&K.brand!==T&&R(K.brand)},xe=()=>{switch(T){case"visa":return"https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg";case"mastercard":return"https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg";case"amex":return"https://upload.wikimedia.org/wikipedia/commons/3/30/American_Express_logo.svg";case"discover":return"https://upload.wikimedia.org/wikipedia/commons/5/50/Discover_Card_logo.svg";default:return null}},Ne=document.documentElement.classList.contains("dark");return e.jsx("form",{onSubmit:S,className:"w-full",children:e.jsx(re,{className:"border-gray-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 rounded-xl shadow-xl overflow-hidden",children:e.jsxs(ae,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-600 dark:text-amber-500 mb-2",children:[e.jsx(fr,{className:"w-6 h-6"}),e.jsx("h3",{className:"text-xl font-semibold",children:"Secure Payment"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your card details are encrypted and securely processed by Stripe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(de,{htmlFor:"cardholderName",className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsx(yt,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"}),"Card Name"]}),e.jsx(Re,{id:"cardholderName",type:"text",value:j,onChange:K=>Y(K.target.value),placeholder:r.name||"Name on card",required:!0,disabled:i||o,className:`h-11 bg-gray-50 dark:bg-zinc-800 \r
                         border-gray-300 dark:border-zinc-700 \r
                         text-gray-900 dark:text-gray-200 \r
                         placeholder-gray-500 dark:placeholder-gray-500 \r
                         focus:ring-amber-500 focus:border-amber-500`})]}),e.jsxs("div",{className:"space-y-2 relative",children:[e.jsxs(de,{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsx(fa,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"}),"Card Number"]}),e.jsxs("div",{className:"stripe-field",children:[e.jsx(Er,{options:{style:Ne?I:O},onChange:z}),xe()&&e.jsx("img",{src:xe(),alt:"Card Type",className:"absolute right-4 top-1/2 -translate-y-1/2 h-6 w-auto"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Expiration Date"}),e.jsx("div",{className:"stripe-field",children:e.jsx(ns,{options:{style:Ne?I:O}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(de,{className:"text-sm text-gray-700 dark:text-gray-300",children:"Security Code (CVC)"}),e.jsx("div",{className:"stripe-field",children:e.jsx(is,{options:{style:Ne?I:O}})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(de,{htmlFor:"country",className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsx(xa,{className:"w-4 h-4 text-amber-600 dark:text-amber-500"}),"Country"]}),e.jsxs("select",{id:"country",value:W,onChange:K=>X(K.target.value),disabled:i||o,className:`w-full h-11 \r
                         bg-gray-50 dark:bg-zinc-800 \r
                         border border-gray-300 dark:border-zinc-700 \r
                         text-gray-900 dark:text-gray-200 \r
                         rounded-lg px-3 \r
                         focus:ring-amber-500 focus:border-amber-500\r
                         disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("option",{value:"Egypt",children:"Egypt"}),e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),e.jsx("option",{value:"UAE",children:"UAE"}),e.jsx("option",{value:"Saudi Arabia",children:"Saudi Arabia"})]})]}),(x||l)&&e.jsxs("div",{className:`flex items-start gap-3 p-4 \r
                         bg-red-50 dark:bg-red-900/20 \r
                         border border-red-200 dark:border-red-800 \r
                         rounded-lg`,children:[e.jsx(Dr,{className:"w-5 h-5 text-red-600 dark:text-red-500 flex-shrink-0"}),e.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300",children:x||l})]}),e.jsxs("div",{className:`p-5 \r
                          bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 \r
                          border border-amber-200 dark:border-amber-700/30 \r
                          rounded-lg`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ha,{className:"w-5 h-5 text-amber-600 dark:text-amber-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Amount"})]}),e.jsxs("span",{className:"text-3xl font-bold text-amber-700 dark:text-amber-500",children:["$",t]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-600 dark:text-gray-400 mt-2",children:[e.jsx(Fe,{className:"w-3 h-3 text-green-600 dark:text-green-500"}),e.jsx("span",{children:"USD  One-time charge"})]})]}),e.jsx("div",{className:"flex items-center justify-center pt-2 border-t border-gray-200 dark:border-zinc-700",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-3 flex items-center gap-2",children:[e.jsx(Wr,{className:"w-4 h-4 text-green-600 dark:text-green-500"}),"Powered by ",e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Stripe"})]})}),e.jsxs("div",{className:"flex gap-3 pt-3",children:[e.jsx(Ur,{type:"button",onClick:n,disabled:i||o,className:"flex-1 h-11",children:" Back"}),e.jsx(Fr,{type:"submit",disabled:!g||i||o,className:"flex-1 flex items-center justify-center gap-2 h-11",children:i||o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"w-4 h-4"}),"Pay $",t]})})]})]})})})}const Ds=qr("pk_test_TYooMQauvdEDq54NiTphI7jx");function zs({bookingData:r,total:t,handleSubmitBooking:s,handlePrev:n,loading:o,paymentError:l}){return e.jsx(te.section,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.4,ease:"easeOut"},className:"flex justify-center py-10 px-4 sm:px-8",children:e.jsxs(re,{className:"w-full max-w-2xl border border-gray-200 dark:border-gray-800 shadow-lg rounded-2xl overflow-hidden",children:[e.jsx(ce,{className:"text-yellow-600 dark:text-yellow-500 py-6",children:e.jsxs(le,{className:"flex items-center justify-center gap-3 text-2xl font-bold tracking-tight ",children:[e.jsx(yt,{className:"w-6 h-6"}),"Payment Details"]})}),e.jsxs(ae,{className:"p-6 space-y-6",children:[l&&e.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:l}),e.jsx(Xt,{stripe:Ds,children:e.jsx(Ms,{bookingData:r,total:t,onSubmit:s,onPrev:n,loading:o,error:l})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground border-t border-gray-200 dark:border-gray-700 pt-4 mt-2",children:[e.jsx(Sa,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{children:"Payments are securely processed by Stripe"})]})]})]})})}const Us={DESTINATIONS:"/api/destinations",EXPERIENCES:"/api/experiences",DINE:"/api/dine",STAY:"/api/stay",CREATE_BOOKING:"/api/bookings/create"},Fs=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(r||"").trim()),$s=r=>/^\+?[\d\s\-()]{10,}$/.test(String(r||"").trim()),Ws=(r,t)=>{if(!r||!t)return{valid:!1,error:"Both dates are required"};const s=new Date(r),n=new Date(t),o=new Date;return o.setHours(0,0,0,0),isNaN(s.getTime())||isNaN(n.getTime())?{valid:!1,error:"Invalid date(s)"}:s<o?{valid:!1,error:"Check-in date cannot be in the past"}:n<=s?{valid:!1,error:"Check-out must be after check-in"}:{valid:!0}};function Hs(){const r="csrf-token",s=decodeURIComponent(document.cookie||"").split(";");for(let n of s)if(n=n.trim(),n.startsWith(`${r}=`))return n.substring(r.length+1);return""}const Bs=_.lazy(()=>$r(()=>import("./TestimonialsSection-CYHT5lL_.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Gs=_.lazy(()=>$r(()=>import("./SocialMediaSection-Bf-cRs2-.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Ys=qr("pk_test_TYooMQauvdEDq54NiTphI7jx"),Pr=()=>e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-amber-500 border-t-transparent"})}),tt=r=>{if(typeof r=="number")return r;if(typeof r=="string"){const t=r.match(/\d+/);return t?parseInt(t[0]):0}return 0};function nn(){const r=ba(),t=ya(),s=r?.state,n=Na(),o=ja(),l=ka(),g=ga(),E=n?.destinations||[],i=o?.experiences||[],p=l?.restaurants||[],x=l?.cafes||[],v=g?.data||[],j=n?.loading||!1,Y=o?.loading||!1,W=l?.isLoading||!1,X=g?.isLoading||!1,T=_.useMemo(()=>u(E).map((m,b)=>({...m,id:m._id||m.id||m.IdPage||`dest-${b}`,price:tt(m.price),name:m.title||m.name})),[E]),R=_.useMemo(()=>u(i).flatMap(b=>u(b?.experiences)).map((b,k)=>({...b,id:b._id||b.id||b.IdPage||`exp-${k}`,price:tt(b.price||b.priceAmount),name:b.title||b.name})),[i]),O=_.useMemo(()=>u(p).map((m,b)=>({...m,id:m._id||m.id||`rest-${b}`,price:tt(m.price),name:m.name||m.title})),[p]),I=_.useMemo(()=>u(x).map((m,b)=>({...m,id:m._id||m.id||`cafe-${b}`,price:tt(m.price),name:m.name||m.title})),[x]),S=_.useMemo(()=>u(v).map((m,b)=>({...m,id:m._id||m.id||`hotel-${b}`,pricePerNight:tt(m.pricePerNight||m.price),name:m.title||m.name||`Hotel ${b+1}`})),[v]),[z,xe]=_.useState(1),[Ne,K]=_.useState(!1),[we,je]=_.useState(null),[D,B]=_.useState(null),[he,ie]=_.useState({}),[y,_e]=_.useState({checkIn:s?.preselected?.checkIn||"",checkOut:s?.preselected?.checkOut||"",adults:Number(s?.preselected?.adults)||2,children:Number(s?.preselected?.children)||0,includeStay:!!s?.preselected?.includeStay||!1,roomType:s?.preselected?.roomType||"",selectedDestinations:u(s?.preselected?.selectedDestinations),selectedExperiences:u(s?.preselected?.selectedExperiences),selectedRestaurants:u(s?.preselected?.selectedRestaurants),selectedCafes:u(s?.preselected?.selectedCafes),name:"",email:"",phone:"",specialRequests:""});_.useEffect(()=>{if(!s?.type||!s?.item)return;const h=s.item,m=h._id||h.id||h.IdPage||`ext-${Math.random().toString(36).slice(2,8)}`,k={experience:"selectedExperiences",destination:"selectedDestinations",restaurant:"selectedRestaurants",cafe:"selectedCafes",stay:"includeStay"}[s.type];k==="includeStay"?_e($=>({...$,includeStay:!0})):k&&_e($=>({...$,[k]:u($[k]).includes(m)?$[k]:[...u($[k]),m]})),B(` ${h.title||h.name||"Item added successfully!"}`),setTimeout(()=>B(null),4e3)},[s]);const Ce=_.useCallback((h,m)=>{const b=typeof m=="string"?V(m):m;_e(k=>({...k,[h]:b})),ie(k=>({...k,[h]:void 0}))},[]),U=_.useCallback((h,m)=>{_e(b=>{const k=u(b[h]),$=k.includes(m);return{...b,[h]:$?k.filter(Ae=>Ae!==m):[...k,m]}})},[]),ge=_.useMemo(()=>{if(!y.checkIn||!y.checkOut)return 0;const h=new Date(y.checkOut)-new Date(y.checkIn);return h>0?Math.ceil(h/(1e3*60*60*24)):0},[y.checkIn,y.checkOut]),{subtotal:Z,taxes:P,total:pe}=_.useMemo(()=>{let h=0;if(y.includeStay&&y.roomType){const b=S.find(k=>k.id===y.roomType);if(b)h+=(b.pricePerNight||0)*ge;else{const k=We.find($=>$.value===y.roomType);h+=(k?.price||0)*ge}}u(y.selectedDestinations).forEach(b=>{const k=T.find($=>$.id===b);h+=k?.price||50}),u(y.selectedExperiences).forEach(b=>{const k=R.find($=>$.id===b);h+=k?.price||75}),u(y.selectedRestaurants).forEach(b=>{const k=O.find($=>$.id===b);h+=k?.price||40}),u(y.selectedCafes).forEach(b=>{const k=I.find($=>$.id===b);h+=k?.price||15});const m=Math.round(h*ea);return{subtotal:h,taxes:m,total:h+m}},[y,ge,S,T,R,O,I]),M=_.useCallback(h=>{const m={};if(h===1){const b=Ws(y.checkIn,y.checkOut);b.valid||(m.dates=b.error)}return h===3&&(y.name.trim().length<2&&(m.name="Name must be at least 2 characters"),Fs(y.email)||(m.email="Please enter a valid email address"),$s(y.phone)||(m.phone="Please enter a valid phone number")),ie(m),Object.keys(m).length===0},[y]),F=()=>{M(z)&&(xe(h=>Math.min(h+1,5)),window.scrollTo({top:0,behavior:"smooth"}))},w=()=>{xe(h=>Math.max(h-1,1)),window.scrollTo({top:0,behavior:"smooth"})},ye=async h=>{if(M(3)){K(!0),je(null);try{const m={...y,total:pe,nights:ge,paymentMethodId:h?.id},k=await(await fetch(`http://localhost:3000/api${Us.CREATE_BOOKING}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":Hs()},credentials:"include",body:JSON.stringify(m)})).json();k?.success?(B(" Booking confirmed! Redirecting..."),setTimeout(()=>{t(`/booking-confirmation/${k.bookingId}`,{state:{total:pe}})},1500)):je(k?.message||"Booking failed. Please try again.")}catch(m){console.error("Booking error:",m),je("Network error. Please check your connection and try again.")}finally{K(!1)}}},He=j||Y||W||X;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[e.jsx(Ft,{children:D&&e.jsx(te.div,{initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.8},transition:{duration:.3},className:"fixed top-6 right-6 z-[9999]",children:e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-r from-green-50 via-emerald-50 to-green-50 dark:from-green-900/30 dark:via-emerald-900/30 dark:to-green-900/30 border-2 border-green-400 dark:border-green-600 rounded-xl shadow-2xl shadow-green-500/20 dark:shadow-green-900/40 backdrop-blur-xl min-w-[320px] max-w-md",children:e.jsxs("div",{className:"flex items-start gap-3 p-4",children:[e.jsx(Fe,{className:"w-6 h-6 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"flex-1 font-medium text-sm text-green-900 dark:text-green-100 leading-relaxed",children:D}),e.jsx("button",{onClick:()=>B(null),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200 hover:bg-green-100 dark:hover:bg-green-900/30 rounded p-1 transition-all duration-200","aria-label":"Dismiss",children:e.jsx(zr,{className:"w-4 h-4"})})]})})})}),e.jsxs("section",{className:"h-[40vh] flex flex-col justify-center items-center text-center bg-gradient-to-br from-amber-600 to-orange-600 dark:from-amber-700 dark:to-orange-700 text-white px-6",children:[e.jsx(te.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold mb-4",children:"Plan Your Perfect Trip"}),e.jsx(te.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-white/90",children:"Book stays, destinations, and experiences easily"})]}),e.jsx(os,{steps:We,currentStep:z}),e.jsxs("div",{className:"max-w-7xl  mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8 py-12 px-4",children:[e.jsxs("div",{className:"lg:col-span-2",children:[He&&z===2?e.jsx(Pr,{}):e.jsx(Ft,{mode:"wait",children:e.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[z===1&&e.jsx(Os,{bookingData:y,updateBookingData:Ce,validationErrors:he,nights:ge,hotels:S}),z===2&&e.jsx(Ps,{bookingData:y,destinations:T,flatExperiences:R,toggleItem:U,updateBookingData:Ce,restaurants:O,cafes:I,hotels:S}),z===3&&e.jsx(Is,{bookingData:y,updateBookingData:Ce,validationErrors:he}),z===4&&e.jsx(Ls,{bookingData:y,nights:ge,subtotal:Z,taxes:P,total:pe,destinations:T,flatExperiences:R,restaurants:O,cafes:I}),z===5&&e.jsx(_.Suspense,{fallback:e.jsx(Pr,{}),children:e.jsx(Xt,{stripe:Ys,children:e.jsx(zs,{bookingData:y,total:pe,handleSubmitBooking:ye,handlePrev:w,loading:Ne,paymentError:we})})})]},z)}),e.jsxs("div",{className:"flex justify-between gap-4 mt-8",children:[e.jsx(Ur,{onClick:w,disabled:z===1,className:"flex-1 sm:flex-none",children:" Previous"}),z<5&&e.jsx(Fr,{onClick:F,className:"flex-1 sm:flex-none",children:"Next Step "})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24 space-y-6",children:[e.jsx(As,{bookingData:y,nights:ge,subtotal:Z,taxes:P,total:pe,destinations:T,flatExperiences:R,restaurants:O,cafes:I,hotels:S}),e.jsx(Rs,{})]})})]}),e.jsxs(_.Suspense,{fallback:e.jsx("div",{className:"h-64"}),children:[e.jsx(Bs,{}),e.jsx(Gs,{badge:"Connect",header:"Stay Connected",description:"Follow our latest adventures and offers"})]})]})}export{nn as default};
//# sourceMappingURL=Booking-CUdZKxqb.js.map
