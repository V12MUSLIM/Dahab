{"version":3,"mappings":"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","names":["DestinationCard","lazy","m","SocialMediaSection","__vitePreload","SectionDestinationsLoading","jsx","jsxs","PageSkeleton","Destinations","selectedCategory","setSelectedCategory","useState","searchQuery","setSearchQuery","priceFilter","setPriceFilter","apiDestinations","apiGetAllCategories","apiGetDestinationsByCategory","isLoading","error","useDestinations","fallbackDestinations","destinations","useMemo","categories","apiCats","d","categoryOptions","cat","getByCategory","category","list","normalizePrice","val","deferredSearch","useDeferredValue","debouncedSearch","setDebouncedSearch","useEffect","timer","filteredDestinations","q","dest","title","desc","loc","price","showWarning","HeroSection","Compass","MapPin","Users","Star","Suspense","Filters","destination","img","Search","PrimaryButton"],"ignoreList":[],"sources":["../../src/pages/Destinations.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, lazy, Suspense, useMemo, useDeferredValue, useEffect } from \"react\";\r\nimport { useDestinations } from \"@/hooks/useDestination\";\r\nimport { Search, MapPin, Compass, Star, Users } from \"lucide-react\";\r\nimport HeroSection from \"@/components/sections/HeroSection\";\r\nimport { PrimaryButton } from \"@/components/customComponents/ButtonVarients\";\r\nimport Filters from \"@/components/customComponents/FilteringTool\";\r\n\r\nconst DestinationCard = lazy(() =>\r\n  import(\"@/components/customComponents/cardTemplates\").then((m) => ({\r\n    default: m.DestinationCard,\r\n  }))\r\n);\r\nconst SocialMediaSection = lazy(() =>\r\n  import(\"@/components/sections/SocialMediaSection\")\r\n);\r\n\r\nconst SectionDestinationsLoading = () => (\r\n  <div className=\"w-full h-32 flex items-center justify-center\" role=\"status\" aria-label=\"Loading destinations\">\r\n    <div className=\"animate-pulse space-y-4 w-full max-w-4xl px-4\">\r\n      <div className=\"h-8 bg-gray-200 dark:bg-gray-800 rounded w-1/4 mx-auto\" />\r\n      <div className=\"h-4 bg-gray-200 dark:bg-gray-800 rounded w-1/2 mx-auto\" />\r\n      <div className=\"h-16 bg-gray-200 dark:bg-gray-800 rounded\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst PageSkeleton = () => (\r\n  <div className=\"min-h-screen flex items-center justify-center\" role=\"status\" aria-label=\"Loading page\">\r\n    <div className=\"text-center\">\r\n      <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-500 mx-auto mb-4\" />\r\n      <p className=\"text-lg text-muted-foreground\">Loading destinations...</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default function Destinations() {\r\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [priceFilter, setPriceFilter] = useState(\"all\");\r\n\r\n  const {\r\n    destinations: apiDestinations,\r\n    getAllCategories: apiGetAllCategories,\r\n    getDestinationsByCategory: apiGetDestinationsByCategory,\r\n    isLoading,\r\n    error,\r\n  } = useDestinations();\r\n\r\n  const fallbackDestinations = [\r\n    {\r\n      id: 1,\r\n      category: \"Water Adventures\",\r\n      title: \"Blue Hole\",\r\n      description: \"World-famous diving spot with crystal clear water and vibrant marine life.\",\r\n      imageUrl: \"/Dahab/blue-hole.webp\",\r\n      href: \"/destinations/blue-hole\",\r\n      IdPage: \"blue-hole\",\r\n      subtitle: \"World Famous Dive Site\",\r\n      badge: \"Must Visit\",\r\n      rating: \"4.9\",\r\n      location: \"Dahab Coast\",\r\n      price: \"$85\",\r\n      galleryImages: [{ src: \"/Dahab/blue-hole.webp\" }],\r\n    },\r\n    {\r\n      id: 2,\r\n      category: \"Water Adventures\",\r\n      title: \"Dahab Lagoon\",\r\n      description: \"Perfect spot for windsurfing and kitesurfing with shallow calm waters.\",\r\n      imageUrl: \"/Dahab/dahab-lagoon.webp\",\r\n      href: \"/destinations/dahab-lagoon\",\r\n      IdPage: \"dahab-lagoon\",\r\n      subtitle: \"Windsurfing & Kitesurfing Paradise\",\r\n      badge: \"Water Sports\",\r\n      rating: \"4.6\",\r\n      location: \"North Dahab\",\r\n      price: \"$60\",\r\n      galleryImages: [{ src: \"/Dahab/dahab-lagoon.webp\" }],\r\n    },\r\n    {\r\n      id: 3,\r\n      category: \"Water Adventures\",\r\n      title: \"Three Pools Snorkeling\",\r\n      description: \"Three natural lagoons with incredible coral gardens and marine life.\",\r\n      imageUrl: \"/Dahab/three-pools.webp\",\r\n      href: \"/destinations/three-pools\",\r\n      IdPage: \"three-pools\",\r\n      subtitle: \"Hidden Snorkeling Paradise\",\r\n      badge: \"Snorkeling\",\r\n      rating: \"4.8\",\r\n      location: \"North Dahab\",\r\n      price: \"$35\",\r\n      galleryImages: [{ src: \"/Dahab/three-pools.webp\" }],\r\n    },\r\n  ];\r\n\r\n  const destinations = useMemo(() => {\r\n    return Array.isArray(apiDestinations) && apiDestinations.length > 0\r\n      ? apiDestinations\r\n      : fallbackDestinations;\r\n  }, [apiDestinations]);\r\n\r\n  const categories = useMemo(() => {\r\n    const apiCats =\r\n      apiDestinations && typeof apiGetAllCategories === \"function\"\r\n        ? apiGetAllCategories()\r\n        : null;\r\n    const finalCats =\r\n      apiCats && Array.isArray(apiCats) && apiCats.length > 0\r\n        ? apiCats\r\n        : [...new Set(fallbackDestinations.map((d) => d.category).filter(Boolean))];\r\n    return [\"All\", ...finalCats];\r\n  }, [apiDestinations, apiGetAllCategories]);\r\n\r\n  const categoryOptions = useMemo(() => {\r\n    return categories.map(cat => ({\r\n      value: cat,\r\n      label: cat\r\n    }));\r\n  }, [categories]);\r\n\r\n  const getByCategory = (category) => {\r\n    if (category === \"All\") return destinations;\r\n    if (apiDestinations && typeof apiGetDestinationsByCategory === \"function\") {\r\n      const list = apiGetDestinationsByCategory(category);\r\n      if (Array.isArray(list)) return list;\r\n    }\r\n    return fallbackDestinations.filter((d) => d.category === category);\r\n  };\r\n\r\n  const normalizePrice = (val) => {\r\n    if (val == null) return NaN;\r\n    if (typeof val === \"number\") return val;\r\n    const m = String(val).match(/\\d+(\\.\\d+)?/);\r\n    return m ? parseFloat(m[0]) : NaN;\r\n  };\r\n\r\n  const deferredSearch = useDeferredValue(searchQuery);\r\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\r\n  \r\n  useEffect(() => {\r\n    const timer = setTimeout(\r\n      () => setDebouncedSearch(deferredSearch.trim().toLowerCase()),\r\n      200\r\n    );\r\n    return () => clearTimeout(timer);\r\n  }, [deferredSearch]);\r\n\r\n  const filteredDestinations = useMemo(() => {\r\n    let list =\r\n      selectedCategory === \"All\" ? destinations : getByCategory(selectedCategory);\r\n\r\n    if (debouncedSearch) {\r\n      const q = debouncedSearch;\r\n      list = list.filter((dest) => {\r\n        const title = dest.title?.toLowerCase() || \"\";\r\n        const desc = dest.description?.toLowerCase() || \"\";\r\n        const loc = dest.location?.toLowerCase() || \"\";\r\n        return title.includes(q) || desc.includes(q) || loc.includes(q);\r\n      });\r\n    }\r\n\r\n    if (priceFilter !== \"all\") {\r\n      list = list.filter((dest) => {\r\n        const price = normalizePrice(dest.price);\r\n        if (Number.isNaN(price)) return false;\r\n        if (priceFilter === \"low\") return price < 50;\r\n        if (priceFilter === \"medium\") return price >= 50 && price < 80;\r\n        if (priceFilter === \"high\") return price >= 80;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    return list;\r\n  }, [destinations, selectedCategory, debouncedSearch, priceFilter]);\r\n\r\n  if (isLoading && !apiDestinations) return <PageSkeleton />;\r\n\r\n  const showWarning = error && !isLoading && !apiDestinations;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-muted/20\">\r\n      {showWarning && (\r\n        <div className=\"bg-yellow-50 border-b border-yellow-200 px-4 py-3 text-center\">\r\n          <p className=\"text-sm text-yellow-800\">\r\n            Some content is currently unavailable. Showing cached information.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      <HeroSection\r\n        image=\"destHero.webp\"\r\n        title={\r\n          <span>\r\n            Explore Our <span className=\"text-amber-500\">Destinations</span>\r\n          </span>\r\n        }\r\n        subtitle=\"Discover your next adventure with our curated travel destinations in Dahab and Sinai Peninsula\"\r\n        Icon={Compass}\r\n        badge=\"25+ Destinations\"\r\n        primaryCta={{ label: \"Start Exploring\", href: \"#destinations\", icon: MapPin }}\r\n        secondaryCta={{ label: \"View Map\", href: \"/map\", icon: Compass }}\r\n        stats={[\r\n          { icon: MapPin, text: \"25+ Locations\" },\r\n          { icon: Users, text: \"5000+ Travelers\" },\r\n          { icon: Star, text: \"4.9/5 Rating\" },\r\n        ]}\r\n        priority\r\n        fetchPriority=\"high\"\r\n      />\r\n\r\n      <div className=\"container mx-auto px-4 py-12\" id=\"destinations\">\r\n        <Suspense fallback={<SectionDestinationsLoading />}>\r\n          <Filters\r\n            searchQuery={searchQuery}\r\n            onSearchChange={setSearchQuery}\r\n            selectedCategory={selectedCategory}\r\n            onCategoryChange={setSelectedCategory}\r\n            categories={categoryOptions}\r\n            priceFilter={priceFilter}\r\n            onPriceChange={setPriceFilter}\r\n            showPriceFilter={true}\r\n            showCategoryFilter={true}\r\n            showSearchBar={true}\r\n          />\r\n        </Suspense>\r\n\r\n        <div className=\"mb-6 text-center\">\r\n          <p className=\"text-muted-foreground\">\r\n            Showing{\" \"}\r\n            <span className=\"font-semibold text-foreground\">\r\n              {filteredDestinations.length}\r\n            </span>{\" \"}\r\n            destinations\r\n            {selectedCategory !== \"All\" && (\r\n              <span>\r\n                {\" \"}\r\n                in{\" \"}\r\n                <span className=\"font-semibold text-yellow-600\">\r\n                  {selectedCategory}\r\n                </span>\r\n              </span>\r\n            )}\r\n          </p>\r\n        </div>\r\n\r\n        <Suspense fallback={<SectionDestinationsLoading />}>\r\n          {filteredDestinations.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n              {filteredDestinations.map((destination) => (\r\n                <DestinationCard\r\n                  key={destination.IdPage || destination.id}\r\n                  title={destination.title}\r\n                  subtitle={destination.subtitle}\r\n                  description={destination.description}\r\n                  images={(destination.galleryImages || []).map((img) => img.src)}\r\n                  badge={destination.badge}\r\n                  rating={destination.rating}\r\n                  location={destination.location}\r\n                  price={destination.price}\r\n                  buttonText=\"View Details\"\r\n                  onButtonClick={() => console.log(\"View:\", destination.title)}\r\n                  href={destination.href}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-20\">\r\n              <div className=\"flex justify-center mb-4\" aria-hidden>\r\n                <Search className=\"w-24 h-24 text-muted-foreground\" />\r\n              </div>\r\n              <h3 className=\"text-2xl font-semibold mb-2\">No destinations found</h3>\r\n              <p className=\"text-muted-foreground mb-6\">\r\n                Try adjusting your search or filters\r\n              </p>\r\n              <PrimaryButton\r\n                onClick={() => {\r\n                  setSearchQuery(\"\");\r\n                  setSelectedCategory(\"All\");\r\n                  setPriceFilter(\"all\");\r\n                }}\r\n              >\r\n                Clear All Filters\r\n              </PrimaryButton>\r\n            </div>\r\n          )}\r\n        </Suspense>\r\n      </div>\r\n\r\n      <Suspense fallback={<SectionDestinationsLoading />}>\r\n        <SocialMediaSection\r\n          badge=\"Connect\"\r\n          header=\"Stay Connected\"\r\n          description=\"Follow our journey and stay updated with the latest from Dahab\"\r\n        />\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n"],"file":"assets/Destinations-mGZiQip8.js"}