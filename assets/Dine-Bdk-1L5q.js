const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cardTemplates-rvK6qbcz.js","assets/framer-fo5XlZek.js","assets/router-BHrIduv9.js","assets/react-vendor-gH-7aFTg.js","assets/card-DeBl-Hyn.js","assets/index-BihzpQvp.js","assets/radix-CCNwdCj1.js","assets/index-DpTXfu6o.css","assets/heart-ytrr67GW.js","assets/chevron-left-DHQOoa2J.js","assets/car-Dm7W5LMk.js","assets/coffee-CUDV2hw9.js","assets/wifi-DT_3qrvD.js","assets/check-CnDIx3e8.js","assets/SocialMediaSection-DV2u8yNR.js"])))=>i.map(i=>d[i]);
import{D as w,d as _,e as p,U as F,S as D,f as k,g as P,_ as b}from"./index-BihzpQvp.js";import{j as s}from"./framer-fo5XlZek.js";import{r as i}from"./router-BHrIduv9.js";import{u as A}from"./useDine-DSC5_Ipe.js";import{F as L}from"./FilteringTool-ng1BT_ai.js";import"./react-vendor-gH-7aFTg.js";import"./radix-CCNwdCj1.js";const I=i.lazy(()=>b(()=>import("./cardTemplates-rvK6qbcz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(r=>({default:r.ImageCard}))),E=i.lazy(()=>b(()=>import("./SocialMediaSection-DV2u8yNR.js"),__vite__mapDeps([14,1,2,3,5,6,7]))),R=()=>s.jsx("div",{className:"animate-pulse space-y-4 mb-8",role:"status","aria-label":"Loading filters",children:s.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-800 rounded-lg w-full"})}),T=()=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 h-80 rounded-2xl mb-4"}),s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-3/4 mb-2"})]});function Q(){const[r,d]=i.useState("All"),[m,g]=i.useState(""),[a,u]=i.useState("all"),{allDining:l,getAllCategories:h,toggleFavorite:j,isFavorite:y,isLoading:N}=A(),x=i.useMemo(()=>["All",...h],[h]),S=i.useMemo(()=>x.map(e=>({value:e,label:e})),[x]),v=e=>{if(e==null)return NaN;if(typeof e=="number")return e;const t=String(e).match(/\d+(\.\d+)?/);return t?parseFloat(t[0]):NaN},f=i.useDeferredValue(m),[o,C]=i.useState("");i.useEffect(()=>{const e=setTimeout(()=>C(f.trim().toLowerCase()),200);return()=>clearTimeout(e)},[f]);const c=i.useMemo(()=>{if(!l||l.length===0)return[];let e=r==="All"?l:l.filter(t=>t.category===r);return o&&(e=e.filter(t=>t.title?.toLowerCase().includes(o)||t.description?.toLowerCase().includes(o)||t.location?.toLowerCase().includes(o))),a!=="all"&&(e=e.filter(t=>{const n=v(t.price||t.priceValue);return Number.isNaN(n)?!1:a==="low"?n<50:a==="medium"?n>=50&&n<80:a==="high"?n>=80:!0})),e},[l,r,o,a]);return N?s.jsx("div",{className:"min-h-screen flex justify-center items-center",children:s.jsx(w,{loadingMessage:"Loading restaurants"})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[s.jsx(_,{image:"Dine-Images/Hero.webp",title:s.jsxs("span",{children:["Discover Amazing ",s.jsx("span",{className:"text-amber-500",children:"Dining"})]}),subtitle:"From beachfront seafood to traditional Bedouin feasts",Icon:p,badge:"30+ Restaurants",stats:[{icon:p,text:`${l?.length||0}+ Places`},{icon:F,text:"10k+ Diners"},{icon:D,text:"4.8/5 Rating"}],priority:!0,fetchPriority:"high"}),s.jsxs("div",{className:"container mx-auto px-4 py-12",id:"dining",children:[s.jsx(i.Suspense,{fallback:s.jsx(R,{}),children:s.jsx(L,{searchQuery:m,onSearchChange:g,selectedCategory:r,onCategoryChange:d,categories:S,priceFilter:a,onPriceChange:u,showPriceFilter:!0,showCategoryFilter:!0,showSearchBar:!0})}),s.jsx("div",{className:"mb-6 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:["Showing"," ",s.jsx("span",{className:"font-semibold text-foreground",children:c.length})," ",c.length===1?"place":"places",r!=="All"&&s.jsxs("span",{children:[" ","in"," ",s.jsx("span",{className:"font-semibold text-yellow-600",children:r})]})]})}),s.jsx(i.Suspense,{fallback:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(e=>s.jsx(T,{},e))}),children:c.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(e=>s.jsx(I,{title:e.title,subtitle:e.subtitle,description:e.description,image:e.image,badge:e.badge,rating:e.rating,location:e.location,price:e.price,buttonText:"View Details",href:`/restaurants/${e.IdPage}`,onFavoriteClick:()=>j(e._id||e.id),isFavorite:y(e._id||e.id)},e._id||e.id||e.IdPage))}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"flex justify-center mb-4","aria-hidden":!0,children:s.jsx(k,{className:"w-24 h-24 text-muted-foreground"})}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"No places found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filters"}),s.jsx(P,{onClick:()=>{g(""),d("All"),u("all")},children:"Clear All Filters"})]})})]}),s.jsx(i.Suspense,{fallback:s.jsx("div",{className:"h-96"}),children:s.jsx(E,{badge:"Connect",header:"Stay Connected",description:"Follow our journey"})})]})}export{Q as default};
//# sourceMappingURL=Dine-Bdk-1L5q.js.map
