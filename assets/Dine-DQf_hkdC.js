const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cardTemplates-lzfbbZLK.js","assets/framer-BVo3TXdb.js","assets/router-BVMkK0Zm.js","assets/react-vendor-gH-7aFTg.js","assets/card-qg3vkhiO.js","assets/index-DTmA3qZG.js","assets/radix-4tUecSNY.js","assets/index-DkITq6iO.css","assets/clock-scjsyC3W.js","assets/chevron-left-B4DRAygl.js","assets/SocialMediaSection-DnJ-RHQN.js"])))=>i.map(i=>d[i]);
import{H as w,U as p,d as _,S as F,e as k,f as P,_ as b}from"./index-DTmA3qZG.js";import{j as e}from"./framer-BVo3TXdb.js";import{r as t}from"./router-BVMkK0Zm.js";import{u as D}from"./useDine-KwQkxtu1.js";import{F as A}from"./FilteringTool-SGx0j0oG.js";import"./react-vendor-gH-7aFTg.js";import"./radix-4tUecSNY.js";const L=t.lazy(()=>b(()=>import("./cardTemplates-lzfbbZLK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(r=>({default:r.ImageCard}))),I=t.lazy(()=>b(()=>import("./SocialMediaSection-DnJ-RHQN.js"),__vite__mapDeps([10,1,2,3,5,6,7]))),E=()=>e.jsx("div",{className:"animate-pulse space-y-4 mb-8",role:"status","aria-label":"Loading filters",children:e.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-800 rounded-lg w-full"})}),R=()=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 h-80 rounded-2xl mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-3/4 mb-2"})]}),T=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center",role:"status","aria-label":"Loading page",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-500 mx-auto mb-4"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Loading restaurants..."})]})});function Q(){const[r,d]=t.useState("All"),[m,g]=t.useState(""),[a,u]=t.useState("all"),{allDining:l,getAllCategories:h,toggleFavorite:j,isFavorite:N,isLoading:y}=D(),x=t.useMemo(()=>["All",...h],[h]),S=t.useMemo(()=>x.map(s=>({value:s,label:s})),[x]),v=s=>{if(s==null)return NaN;if(typeof s=="number")return s;const i=String(s).match(/\d+(\.\d+)?/);return i?parseFloat(i[0]):NaN},f=t.useDeferredValue(m),[o,C]=t.useState("");t.useEffect(()=>{const s=setTimeout(()=>C(f.trim().toLowerCase()),200);return()=>clearTimeout(s)},[f]);const c=t.useMemo(()=>{if(!l||l.length===0)return[];let s=r==="All"?l:l.filter(i=>i.category===r);return o&&(s=s.filter(i=>i.title?.toLowerCase().includes(o)||i.description?.toLowerCase().includes(o)||i.location?.toLowerCase().includes(o))),a!=="all"&&(s=s.filter(i=>{const n=v(i.price||i.priceValue);return Number.isNaN(n)?!1:a==="low"?n<50:a==="medium"?n>=50&&n<80:a==="high"?n>=80:!0})),s},[l,r,o,a]);return y?e.jsx(T,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:[e.jsx(w,{image:"Dine-Images/Hero.webp",title:e.jsxs("span",{children:["Discover Amazing ",e.jsx("span",{className:"text-amber-500",children:"Dining"})]}),subtitle:"From beachfront seafood to traditional Bedouin feasts",Icon:p,badge:"30+ Restaurants",stats:[{icon:p,text:`${l?.length||0}+ Places`},{icon:_,text:"10k+ Diners"},{icon:F,text:"4.8/5 Rating"}],priority:!0,fetchPriority:"high"}),e.jsxs("div",{className:"container mx-auto px-4 py-12",id:"dining",children:[e.jsx(t.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(A,{searchQuery:m,onSearchChange:g,selectedCategory:r,onCategoryChange:d,categories:S,priceFilter:a,onPriceChange:u,showPriceFilter:!0,showCategoryFilter:!0,showSearchBar:!0})}),e.jsx("div",{className:"mb-6 text-center",children:e.jsxs("p",{className:"text-muted-foreground",children:["Showing"," ",e.jsx("span",{className:"font-semibold text-foreground",children:c.length})," ",c.length===1?"place":"places",r!=="All"&&e.jsxs("span",{children:[" ","in"," ",e.jsx("span",{className:"font-semibold text-yellow-600",children:r})]})]})}),e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(s=>e.jsx(R,{},s))}),children:c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(s=>e.jsx(L,{title:s.title,subtitle:s.subtitle,description:s.description,image:s.image,badge:s.badge,rating:s.rating,location:s.location,price:s.price,buttonText:"View Details",href:`/restaurants/${s.IdPage}`,onFavoriteClick:()=>j(s._id||s.id),isFavorite:N(s._id||s.id)},s._id||s.id||s.IdPage))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"flex justify-center mb-4","aria-hidden":!0,children:e.jsx(k,{className:"w-24 h-24 text-muted-foreground"})}),e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"No places found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filters"}),e.jsx(P,{onClick:()=>{g(""),d("All"),u("all")},children:"Clear All Filters"})]})})]}),e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"h-96"}),children:e.jsx(I,{badge:"Connect",header:"Stay Connected",description:"Follow our journey"})})]})}export{Q as default};
//# sourceMappingURL=Dine-DQf_hkdC.js.map
