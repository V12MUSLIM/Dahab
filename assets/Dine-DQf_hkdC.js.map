{"version":3,"mappings":"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","names":["ImageCard","lazy","module","SocialMediaSection","__vitePreload","FilterSkeleton","jsx","CardSkeleton","jsxs","PageSkeleton","Dine","selectedCategory","setSelectedCategory","useState","searchQuery","setSearchQuery","priceFilter","setPriceFilter","allDining","getAllCategories","toggleFavorite","isFavorite","isLoading","useDine","categories","useMemo","categoryOptions","cat","normalizePrice","val","m","deferredSearch","useDeferredValue","debouncedSearch","setDebouncedSearch","useEffect","timer","filteredRestaurants","filtered","r","price","HeroSection","Utensils","Users","Star","Suspense","Filters","i","restaurant","Search","PrimaryButton"],"ignoreList":[],"sources":["../../src/pages/Dine.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { lazy, Suspense, useMemo, useState, useDeferredValue, useEffect } from \"react\";\r\nimport { Utensils, Star, Users, Search } from \"lucide-react\";\r\nimport HeroSection from \"@/components/sections/HeroSection\";\r\nimport { useDine } from \"@/hooks/useDine\";\r\nimport { PrimaryButton } from \"@/components/customComponents/ButtonVarients\";\r\nimport Filters from \"@/components/customComponents/FilteringTool\";\r\n\r\nconst ImageCard = lazy(() =>\r\n  import(\"@/components/customComponents/cardTemplates\").then((module) => ({\r\n    default: module.ImageCard,\r\n  }))\r\n);\r\nconst SocialMediaSection = lazy(() =>\r\n  import(\"@/components/sections/SocialMediaSection\")\r\n);\r\n\r\nconst FilterSkeleton = () => (\r\n  <div className=\"animate-pulse space-y-4 mb-8\" role=\"status\" aria-label=\"Loading filters\">\r\n    <div className=\"h-12 bg-gray-200 dark:bg-gray-800 rounded-lg w-full\" />\r\n  </div>\r\n);\r\n\r\nconst CardSkeleton = () => (\r\n  <div className=\"animate-pulse\">\r\n    <div className=\"bg-gray-200 dark:bg-gray-800 h-80 rounded-2xl mb-4\" />\r\n    <div className=\"h-6 bg-gray-200 dark:bg-gray-800 rounded w-3/4 mb-2\" />\r\n  </div>\r\n);\r\n\r\nconst PageSkeleton = () => (\r\n  <div className=\"min-h-screen flex items-center justify-center\" role=\"status\" aria-label=\"Loading page\">\r\n    <div className=\"text-center\">\r\n      <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-500 mx-auto mb-4\" />\r\n      <p className=\"text-lg text-muted-foreground\">Loading restaurants...</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default function Dine() {\r\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [priceFilter, setPriceFilter] = useState(\"all\");\r\n\r\n  const {\r\n    allDining,\r\n    getAllCategories,\r\n    toggleFavorite,\r\n    isFavorite,\r\n    isLoading,\r\n  } = useDine();\r\n\r\n  const categories = useMemo(() => {\r\n    return [\"All\", ...getAllCategories];\r\n  }, [getAllCategories]);\r\n\r\n  const categoryOptions = useMemo(() => {\r\n    return categories.map(cat => ({\r\n      value: cat,\r\n      label: cat\r\n    }));\r\n  }, [categories]);\r\n\r\n  const normalizePrice = (val) => {\r\n    if (val == null) return NaN;\r\n    if (typeof val === \"number\") return val;\r\n    const m = String(val).match(/\\d+(\\.\\d+)?/);\r\n    return m ? parseFloat(m[0]) : NaN;\r\n  };\r\n\r\n  const deferredSearch = useDeferredValue(searchQuery);\r\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\r\n  \r\n  useEffect(() => {\r\n    const timer = setTimeout(\r\n      () => setDebouncedSearch(deferredSearch.trim().toLowerCase()),\r\n      200\r\n    );\r\n    return () => clearTimeout(timer);\r\n  }, [deferredSearch]);\r\n\r\n  const filteredRestaurants = useMemo(() => {\r\n    if (!allDining || allDining.length === 0) return [];\r\n\r\n    let filtered =\r\n      selectedCategory === \"All\"\r\n        ? allDining\r\n        : allDining.filter((r) => r.category === selectedCategory);\r\n\r\n    if (debouncedSearch) {\r\n      filtered = filtered.filter(\r\n        (r) =>\r\n          r.title?.toLowerCase().includes(debouncedSearch) ||\r\n          r.description?.toLowerCase().includes(debouncedSearch) ||\r\n          r.location?.toLowerCase().includes(debouncedSearch)\r\n      );\r\n    }\r\n\r\n    if (priceFilter !== \"all\") {\r\n      filtered = filtered.filter((r) => {\r\n        const price = normalizePrice(r.price || r.priceValue);\r\n        if (Number.isNaN(price)) return false;\r\n        if (priceFilter === \"low\") return price < 50;\r\n        if (priceFilter === \"medium\") return price >= 50 && price < 80;\r\n        if (priceFilter === \"high\") return price >= 80;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    return filtered;\r\n  }, [allDining, selectedCategory, debouncedSearch, priceFilter]);\r\n\r\n  if (isLoading) return <PageSkeleton />;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-muted/20\">\r\n      <HeroSection\r\n        image=\"Dine-Images/Hero.webp\"\r\n        title={\r\n          <span>\r\n            Discover Amazing <span className=\"text-amber-500\">Dining</span>\r\n          </span>\r\n        }\r\n        subtitle=\"From beachfront seafood to traditional Bedouin feasts\"\r\n        Icon={Utensils}\r\n        badge=\"30+ Restaurants\"\r\n        stats={[\r\n          { icon: Utensils, text: `${allDining?.length || 0}+ Places` },\r\n          { icon: Users, text: \"10k+ Diners\" },\r\n          { icon: Star, text: \"4.8/5 Rating\" },\r\n        ]}\r\n        priority\r\n        fetchPriority=\"high\"\r\n      />\r\n\r\n      <div className=\"container mx-auto px-4 py-12\" id=\"dining\">\r\n        <Suspense fallback={<FilterSkeleton />}>\r\n          <Filters\r\n            searchQuery={searchQuery}\r\n            onSearchChange={setSearchQuery}\r\n            selectedCategory={selectedCategory}\r\n            onCategoryChange={setSelectedCategory}\r\n            categories={categoryOptions}\r\n            priceFilter={priceFilter}\r\n            onPriceChange={setPriceFilter}\r\n            showPriceFilter={true}\r\n            showCategoryFilter={true}\r\n            showSearchBar={true}\r\n          />\r\n        </Suspense>\r\n\r\n        <div className=\"mb-6 text-center\">\r\n          <p className=\"text-muted-foreground\">\r\n            Showing{\" \"}\r\n            <span className=\"font-semibold text-foreground\">\r\n              {filteredRestaurants.length}\r\n            </span>{\" \"}\r\n            {filteredRestaurants.length === 1 ? \"place\" : \"places\"}\r\n            {selectedCategory !== \"All\" && (\r\n              <span>\r\n                {\" \"}\r\n                in{\" \"}\r\n                <span className=\"font-semibold text-yellow-600\">\r\n                  {selectedCategory}\r\n                </span>\r\n              </span>\r\n            )}\r\n          </p>\r\n        </div>\r\n\r\n        <Suspense\r\n          fallback={\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n              {[1, 2, 3].map((i) => (\r\n                <CardSkeleton key={i} />\r\n              ))}\r\n            </div>\r\n          }\r\n        >\r\n          {filteredRestaurants.length > 0 ? (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n              {filteredRestaurants.map((restaurant) => (\r\n                <ImageCard\r\n                  key={restaurant._id || restaurant.id || restaurant.IdPage}\r\n                  title={restaurant.title}\r\n                  subtitle={restaurant.subtitle}\r\n                  description={restaurant.description}\r\n                  image={restaurant.image}\r\n                  badge={restaurant.badge}\r\n                  rating={restaurant.rating}\r\n                  location={restaurant.location}\r\n                  price={restaurant.price}\r\n                  buttonText=\"View Details\"\r\n                  href={`/restaurants/${restaurant.IdPage}`}\r\n                  onFavoriteClick={() => toggleFavorite(restaurant._id || restaurant.id)}\r\n                  isFavorite={isFavorite(restaurant._id || restaurant.id)}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-20\">\r\n              <div className=\"flex justify-center mb-4\" aria-hidden>\r\n                <Search className=\"w-24 h-24 text-muted-foreground\" />\r\n              </div>\r\n              <h3 className=\"text-2xl font-semibold mb-2\">No places found</h3>\r\n              <p className=\"text-muted-foreground mb-6\">\r\n                Try adjusting your search or filters\r\n              </p>\r\n              <PrimaryButton\r\n                onClick={() => {\r\n                  setSearchQuery(\"\");\r\n                  setSelectedCategory(\"All\");\r\n                  setPriceFilter(\"all\");\r\n                }}\r\n              >\r\n                Clear All Filters\r\n              </PrimaryButton>\r\n            </div>\r\n          )}\r\n        </Suspense>\r\n      </div>\r\n\r\n      <Suspense fallback={<div className=\"h-96\" />}>\r\n        <SocialMediaSection\r\n          badge=\"Connect\"\r\n          header=\"Stay Connected\"\r\n          description=\"Follow our journey\"\r\n        />\r\n      </Suspense>\r\n    </div>\r\n  );\r\n}\r\n"],"file":"assets/Dine-DQf_hkdC.js"}