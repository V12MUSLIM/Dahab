const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cardTemplates-CRH55of1.js","assets/framer-CThKW3MA.js","assets/router-Bg19EEV2.js","assets/react-vendor-OvXVS5lI.js","assets/index-CN7hAPZf.js","assets/radix-BI4OvP_J.js","assets/index-D4IYnlB4.css","assets/heart-aXJMRsUb.js","assets/car-CYYMwFGd.js","assets/coffee-DKXA4pp1.js","assets/wifi-D75jOzO8.js","assets/SocialMediaSection-Bf-cRs2-.js","assets/TestimonialsSection-CYHT5lL_.js","assets/FAQSection-CVzu3D37.js"])))=>i.map(i=>d[i]);
import{o as _,ae as g,X as k,Y as A,_ as m}from"./index-CN7hAPZf.js";import{j as e}from"./framer-CThKW3MA.js";import{r}from"./router-Bg19EEV2.js";import{F as L}from"./FilteringTool-DzBoNRDs.js";import{u as P}from"./useExperience-BC0-1i0p.js";import"./react-vendor-OvXVS5lI.js";import"./radix-BI4OvP_J.js";const D=r.lazy(()=>m(()=>import("./cardTemplates-CRH55of1.js").then(i=>i.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(i=>({default:i.ExperienceCard}))),F=r.lazy(()=>m(()=>import("./index-CN7hAPZf.js").then(i=>i.bd),__vite__mapDeps([4,1,2,3,5,6]))),T=r.lazy(()=>m(()=>import("./SocialMediaSection-Bf-cRs2-.js"),__vite__mapDeps([11,1,2,3,4,5,6]))),z=r.lazy(()=>m(()=>import("./TestimonialsSection-CYHT5lL_.js"),__vite__mapDeps([12,1,2,3,4,5,6]))),M=r.lazy(()=>m(()=>import("./FAQSection-CVzu3D37.js"),__vite__mapDeps([13,1,2,3,4,5,6]))),B=()=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-800 h-72 rounded-2xl mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-800 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-800 rounded w-full"})]}),h=()=>e.jsxs("div",{className:"animate-pulse space-y-4 w-full",children:[e.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-800 rounded w-1/4"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(i=>e.jsx(B,{},i))})]});function U(){const{experiences:i,getAllCategories:x}=P(),[c,p]=r.useState("All"),[b,y]=r.useState(""),[o,j]=r.useState("all"),d=r.useMemo(()=>i||[],[i]),N=r.useMemo(()=>d.flatMap(s=>(s.experiences||[]).map(a=>({...a,category:s.category}))),[d]),w=r.useMemo(()=>{if(typeof x=="function"){const s=x();if(Array.isArray(s)&&s.length>0)return["All",...s]}return["All",...d.map(s=>s.category)]},[d,x]),v=r.useMemo(()=>w.map(s=>({value:s,label:s})),[w]),S=s=>{if(s==null)return NaN;if(typeof s=="number")return s;const a=String(s).match(/\d+(\.\d+)?/);return a?parseFloat(a[0]):NaN},C=r.useDeferredValue(b),[l,E]=r.useState("");r.useEffect(()=>{const s=setTimeout(()=>E(C.trim().toLowerCase()),200);return()=>clearTimeout(s)},[C]);const f=r.useMemo(()=>{let s=N;return c!=="All"&&(s=s.filter(a=>a.category===c)),l&&(s=s.filter(a=>a.title?.toLowerCase().includes(l)||a.description?.toLowerCase().includes(l)||a.location?.toLowerCase().includes(l)||a.difficulty?.toLowerCase().includes(l))),o!=="all"&&(s=s.filter(a=>{const t=S(a.price);return Number.isNaN(t)?!1:o==="low"?t<50:o==="medium"?t>=50&&t<80:o==="high"?t>=80:!0})),s},[N,c,l,o]);return _&&!i?e.jsx("div",{className:"min-h-screen flex justify-center items-center",children:e.jsx(_,{loadingMessage:"Loading Experiences"})}):e.jsxs("div",{className:"min-h-screen bg-white dark:bg-black",children:[e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"h-96 bg-gray-200 dark:bg-gray-800 animate-pulse"}),children:e.jsx(F,{image:"https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=1600",title:"Unforgettable Experiences",subtitle:"Adventure Awaits in Dahab",Icon:g,badge:"Explore",stats:[{icon:g,text:"50+ Activities"},{icon:g,text:"Expert Guides"},{icon:g,text:"All Skill Levels"}]})}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-800 animate-pulse mx-4 my-8 rounded-lg"}),children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsx(L,{searchQuery:b,onSearchChange:y,selectedCategory:c,onCategoryChange:p,categories:v,priceFilter:o,onPriceChange:j,showPriceFilter:!0,showCategoryFilter:!0,showSearchBar:!0})})}),e.jsx("div",{className:"py-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsxs("p",{className:"text-muted-foreground",children:["Showing"," ",e.jsx("span",{className:"font-semibold text-foreground",children:f.length})," ",f.length===1?"experience":"experiences",c!=="All"&&e.jsxs("span",{children:[" ","in"," ",e.jsx("span",{className:"font-semibold text-yellow-600",children:c})]})]})}),e.jsxs("div",{className:"space-y-16",children:[d.map(s=>{const a=(s.experiences||[]).filter(t=>{let n=!0;if(c!=="All"&&s.category!==c&&(n=!1),n&&l&&(n=t.title?.toLowerCase().includes(l)||t.description?.toLowerCase().includes(l)||t.location?.toLowerCase().includes(l)||t.difficulty?.toLowerCase().includes(l)),n&&o!=="all"){const u=S(t.price);Number.isNaN(u)?n=!1:(o==="low"&&(n=u<50),o==="medium"&&(n=u>=50&&u<80),o==="high"&&(n=u>=80))}return n});return a.length===0?null:e.jsxs("section",{children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white inline-block pb-3 border-b-4 border-yellow-500",children:s.category})}),e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(t=>e.jsx(D,{title:t.title,subtitle:t.subtitle,description:t.description,images:t.images,badge:t.badge,rating:t.rating,location:t.location,duration:t.duration,groupSize:t.groupSize,difficulty:t.difficulty,price:t.price,href:t.href,buttonText:"Book Now",onButtonClick:()=>console.log("Booking:",t.title)},t.id))})})]},s.category)}),f.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"flex justify-center mb-4","aria-hidden":!0,children:e.jsx(k,{className:"w-24 h-24 text-muted-foreground"})}),e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"No experiences found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filters"}),e.jsx(A,{onClick:()=>{y(""),p("All"),j("all")},children:"Clear All Filters"})]})]})]})}),e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(z,{})}),e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(M,{})}),e.jsx(r.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(T,{badge:"Connect",header:"Stay Connected",description:"Follow our journey and stay updated with the latest from Dahab"})})]})}export{U as default};
//# sourceMappingURL=Experiences-0ixG18Bs.js.map
