import{j as e}from"./framer-CThKW3MA.js";import{u as ae,r as t}from"./router-Bg19EEV2.js";import{af as _,u as re,ax as te,ay as oe,az as le,J as P,aA as ne,k as C,h as S,c as p,ar as A,au as L,aB as D,aC as U,B as w,L as g,aD as E,aE as F,aF as M,aG as I,aH as T,aI as R,aJ as O,ag as l,y as de,aK as ce,aL as N,aM as v,at as B,aN as o,aO as ie}from"./index-CN7hAPZf.js";import{S as me}from"./shield-B0xnnyIO.js";import"./react-vendor-OvXVS5lI.js";import"./radix-BI4OvP_J.js";const xe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Y=_("bell",xe);const he=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],ue=_("cog",he);function ye(){const G=ae(),{user:a,logout:$,updateProfile:q}=re(),[n,b]=t.useState("profile"),[i,H]=t.useState({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",location:a?.location||""}),[d,m]=t.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,j]=t.useState({current:!1,new:!1,confirm:!1}),[x,h]=t.useState(!1),[J,z]=t.useState(a?.notifications!==!1),[K,Q]=t.useState(a?.marketing!==!1),[u,y]=t.useState(!1),f=s=>{const{name:r,value:ee}=s.target;H(se=>({...se,[r]:ee})),y(!1)},V=async s=>{s.preventDefault(),h(!0);try{await q(i),y(!0),o.success("Profile updated successfully"),setTimeout(()=>y(!1),3e3)}catch(r){o.error("Failed to update profile"),console.error("Profile update error:",r)}finally{h(!1)}},W=async s=>{if(s.preventDefault(),d.newPassword!==d.confirmPassword){o.error("Passwords do not match");return}if(d.newPassword.length<6){o.error("Password must be at least 6 characters");return}h(!0);try{o.success("Password updated successfully"),m({currentPassword:"",newPassword:"",confirmPassword:""})}catch(r){o.error("Failed to update password"),console.error("Password update error:",r)}finally{h(!1)}},k=async()=>{try{await $(),o.success("Logged out successfully"),setTimeout(()=>G(ie.login,{replace:!0}),300)}catch(s){o.error("Logout failed"),console.error("Logout error:",s)}},X=a?.picture?encodeURI(a.picture.replace("=s96-c","=s256-c")):a?.image?encodeURI(a.image):`https://avatar.vercel.sh/${encodeURIComponent(a?.name||"U")}`,Z=a?.name?.split(" ").map(s=>s[0]).join("").toUpperCase()||"U";return e.jsx("div",{className:"min-h-screen ",children:e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl pb-20 md:pb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("aside",{className:"lg:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-8 space-y-6",children:[e.jsx("div",{className:"bg-card rounded-2xl border border-border p-6 shadow-lg",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsxs(te,{className:"w-32 h-32 border-4 border-yellow-500/30 ring-4 ring-yellow-500/10 shadow-xl",children:[e.jsx(oe,{src:X,alt:a?.name||"User avatar",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:s=>{console.warn("Failed to load user image, using fallback"),s.currentTarget.src=`https://avatar.vercel.sh/${encodeURIComponent(a?.name||"U")}`}}),e.jsx(le,{className:"bg-gradient-to-br from-yellow-500 to-amber-600 text-white text-4xl font-bold",children:Z})]}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:a?.name||"Guest User"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm break-all",children:a?.email||"No email"})]})]}),e.jsx(ne,{className:"bg-border"}),e.jsxs("div",{className:"w-full space-y-2 text-left",children:[a?.phone&&e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx(C,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{children:a.phone})]}),a?.location&&e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx(S,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{children:a.location})]})]})]})}),e.jsx("nav",{className:"bg-card rounded-2xl border border-border p-4 shadow-lg",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>b("profile"),className:p("w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all duration-200",n==="profile"?"bg-yellow-500/10 text-yellow-600 border border-yellow-500/20 dark:text-yellow-400":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Profile Settings"})]}),e.jsxs("button",{onClick:()=>b("security"),className:p("w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all duration-200",n==="security"?"bg-yellow-500/10 text-yellow-600 border border-yellow-500/20 dark:text-yellow-400":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[e.jsx(L,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Security"})]}),e.jsxs("button",{onClick:()=>b("preferences"),className:p("w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all duration-200",n==="preferences"?"bg-yellow-500/10 text-yellow-600 border border-yellow-500/20 dark:text-yellow-400":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[e.jsx(Y,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Preferences"})]})]})}),e.jsxs(D,{children:[e.jsx(U,{asChild:!0,children:e.jsxs(w,{variant:"outline",className:"w-full hidden lg:flex items-center justify-center border-red-500/30 text-red-600 hover:bg-red-500/10 hover:text-red-600 hover:border-red-500/50 dark:text-red-400 dark:hover:text-red-400 transition-all duration-200 rounded-xl py-6",children:[e.jsx(g,{className:"h-5 w-5 mr-2"}),"Logout"]})}),e.jsxs(E,{className:"rounded-2xl border-border shadow-2xl max-w-md",children:[e.jsxs(F,{className:"space-y-3",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center",children:e.jsx(g,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsx(M,{className:"text-center text-2xl font-bold",children:"Logout Confirmation"}),e.jsx(I,{className:"text-center text-muted-foreground",children:"Are you sure you want to logout? You'll need to sign in again to access your account."})]}),e.jsxs(T,{className:"flex-col sm:flex-row gap-3 mt-6",children:[e.jsx(R,{className:"w-full sm:w-auto rounded-xl border-border hover:bg-muted transition-all duration-200",children:"Cancel"}),e.jsx(O,{onClick:k,className:"w-full sm:w-auto bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-xl transition-all duration-200",children:"Yes, Logout"})]})]})]})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"bg-card rounded-2xl border border-border shadow-lg overflow-hidden",children:[n==="profile"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b border-border",children:[e.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-xl",children:e.jsx(ue,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Profile Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your personal information"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"name",className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),"Full Name"]}),e.jsx(l,{id:"name",name:"name",value:i.name,onChange:f,placeholder:"Enter your full name",className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"email",className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),"Email Address"]}),e.jsx(l,{id:"email",name:"email",type:"email",value:i.email,onChange:f,placeholder:"Enter your email",className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"phone",className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),"Phone Number"]}),e.jsx(l,{id:"phone",name:"phone",value:i.phone,onChange:f,placeholder:"Enter your phone number",className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"location",className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),"Location"]}),e.jsx(l,{id:"location",name:"location",value:i.location,onChange:f,placeholder:"Enter your location",className:"h-12"})]}),e.jsxs(w,{type:"button",disabled:x,onClick:V,className:p("w-full h-12 bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-black font-semibold transition-all duration-200",u&&"from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700"),children:[u&&e.jsx(de,{className:"h-5 w-5 mr-2"}),!u&&e.jsx(ce,{className:"h-5 w-5 mr-2"}),x?"Saving...":u?"Saved Successfully!":"Save Changes"]})]})]}),n==="security"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b border-border",children:[e.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-xl",children:e.jsx(me,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Security Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Update your password and security preferences"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{htmlFor:"currentPassword",className:"text-sm font-semibold text-foreground",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"currentPassword",type:c.current?"text":"password",value:d.currentPassword,onChange:s=>m(r=>({...r,currentPassword:s.target.value})),placeholder:"Enter current password",className:"h-12 pr-12 mt-2"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,current:!s.current})),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c.current?e.jsx(N,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"newPassword",className:"text-sm font-semibold text-foreground",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"newPassword",type:c.new?"text":"password",value:d.newPassword,onChange:s=>m(r=>({...r,newPassword:s.target.value})),placeholder:"Enter new password",className:"h-12 pr-12  mt-2"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,new:!s.new})),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c.new?e.jsx(N,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-semibold text-foreground",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"confirmPassword",type:c.confirm?"text":"password",value:d.confirmPassword,onChange:s=>m(r=>({...r,confirmPassword:s.target.value})),placeholder:"Confirm new password",className:"h-12 pr-12  mt-2"}),e.jsx("button",{type:"button",onClick:()=>j(s=>({...s,confirm:!s.confirm})),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c.confirm?e.jsx(N,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})})]})]}),e.jsxs(w,{type:"button",disabled:x,onClick:W,className:"w-full h-12 bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 text-black font-semibold transition-all duration-200",children:[e.jsx(L,{className:"h-5 w-5 mr-2"}),x?"Updating...":"Update Password"]})]})]}),n==="preferences"&&e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-6 border-b border-border",children:[e.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-xl",children:e.jsx(Y,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Notification Preferences"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage how we communicate with you"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 rounded-xl bg-muted border border-border hover:border-yellow-500/30 transition-all duration-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about bookings, offers, and activities"})]}),e.jsx(B,{checked:J,onCheckedChange:z,className:"data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-yellow-500 data-[state=checked]:to-amber-600"})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 rounded-xl bg-muted border border-border hover:border-yellow-500/30 transition-all duration-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"Marketing & Promotions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get exclusive deals and travel recommendations"})]}),e.jsx(B,{checked:K,onCheckedChange:Q,className:"data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-yellow-500 data-[state=checked]:to-amber-600"})]})]})]})]}),e.jsxs(D,{children:[e.jsx(U,{asChild:!0,children:e.jsxs(w,{variant:"outline",className:"w-full lg:hidden border-red-500/30 text-red-600 hover:bg-red-500/10 hover:text-red-600 hover:border-red-500/50 dark:text-red-400 dark:hover:text-red-400 transition-all duration-200 rounded-xl py-6 mt-4",children:[e.jsx(g,{className:"h-5 w-5 mr-2"}),"Logout"]})}),e.jsxs(E,{className:"rounded-2xl border-border shadow-2xl max-w-md",children:[e.jsxs(F,{className:"space-y-3",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center",children:e.jsx(g,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsx(M,{className:"text-center text-2xl font-bold",children:"Logout Confirmation"}),e.jsx(I,{className:"text-center text-muted-foreground",children:"Are you sure you want to logout? You'll need to sign in again to access your account."})]}),e.jsxs(T,{className:"flex-col sm:flex-row gap-3 mt-6",children:[e.jsx(R,{className:"w-full sm:w-auto rounded-xl border-border hover:bg-muted transition-all duration-200",children:"Cancel"}),e.jsx(O,{onClick:k,className:"w-full sm:w-auto bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-xl transition-all duration-200",children:"Yes, Logout"})]})]})]})]})]})})})}export{ye as default};
//# sourceMappingURL=ProfileSettings-DM-h2KXc.js.map
