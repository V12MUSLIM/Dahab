{"version":3,"file":"useDestination-CyP-klip.js","sources":["../../src/services/destination.js","../../src/hooks/useDestination.jsx"],"sourcesContent":["import api from \"@/api/axios\";\r\n\r\nexport const getDestinations = async () => {\r\n  const response = await api.get(\"/destination\");\r\n  return response.data.destinations;\r\n};\r\n","\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { getDestinations } from \"@/services/destination\";\r\nimport { useState } from \"react\";\r\n\r\nexport const useDestinations = () => {\r\n  const {\r\n    data: destinations,\r\n    isLoading,\r\n    error,\r\n    isError,\r\n  } = useQuery({\r\n    queryKey: [\"destinations\"],\r\n    queryFn: getDestinations,\r\n    retry: 2,\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n\r\n  const getAllCategories = () => {\r\n    if (!destinations || destinations.length === 0) return [];\r\n    return [...new Set(destinations.map((d) => d.category))];\r\n  };\r\n\r\n  const getDestinationsByCategory = (category) => {\r\n    if (!destinations) return [];\r\n    return destinations.filter((d) => d.category === category);\r\n  };\r\n\r\n  const getDestinationById = (idPage) => {\r\n    if (!destinations) return null;\r\n    return destinations.find(\r\n      (d) => String(d.IdPage).toLowerCase() === String(idPage).toLowerCase()\r\n    );\r\n  };\r\n\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  const toggleFavorite = (id) => {\r\n    setFavorites((prev) =>\r\n      prev.includes(id) ? prev.filter((f) => f !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const isFavorite = (id) => favorites.includes(id);\r\n\r\n  return {\r\n    destinations,\r\n    getAllCategories,\r\n    getDestinationsByCategory,\r\n    getDestinationById,\r\n    toggleFavorite,\r\n    isFavorite,\r\n    isLoading,\r\n    error,\r\n    isError,\r\n  };\r\n};\r\n"],"names":["getDestinations","api","useDestinations","destinations","isLoading","error","isError","useQuery","getAllCategories","d","getDestinationsByCategory","category","getDestinationById","idPage","favorites","setFavorites","useState","id","prev","f"],"mappings":"wFAEO,MAAMA,EAAkB,UACZ,MAAMC,EAAI,IAAI,cAAc,GAC7B,KAAK,aCCVC,EAAkB,IAAM,CACnC,KAAM,CACJ,KAAMC,EACN,UAAAC,EACA,MAAAC,EACA,QAAAC,CAAA,EACEC,EAAS,CACX,SAAU,CAAC,cAAc,EACzB,QAASP,EACT,MAAO,EACP,UAAW,GAAS,CACrB,EAEKQ,EAAmB,IACnB,CAACL,GAAgBA,EAAa,SAAW,EAAU,CAAA,EAChD,CAAC,GAAG,IAAI,IAAIA,EAAa,IAAKM,GAAMA,EAAE,QAAQ,CAAC,CAAC,EAGnDC,EAA6BC,GAC5BR,EACEA,EAAa,OAAQM,GAAMA,EAAE,WAAaE,CAAQ,EAD/B,CAAA,EAItBC,EAAsBC,GACrBV,EACEA,EAAa,KACjBM,GAAM,OAAOA,EAAE,MAAM,EAAE,gBAAkB,OAAOI,CAAM,EAAE,YAAA,CAAY,EAF7C,KAMtB,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,CAAA,CAAE,EAU7C,MAAO,CACL,aAAAb,EACA,iBAAAK,EACA,0BAAAE,EACA,mBAAAE,EACA,eAbsBK,GAAO,CAC7BF,EAAcG,GACZA,EAAK,SAASD,CAAE,EAAIC,EAAK,OAAQC,GAAMA,IAAMF,CAAE,EAAI,CAAC,GAAGC,EAAMD,CAAE,CAAA,CAEnE,EAUE,WARkBA,GAAOH,EAAU,SAASG,CAAE,EAS9C,UAAAb,EACA,MAAAC,EACA,QAAAC,CAAA,CAEJ"}