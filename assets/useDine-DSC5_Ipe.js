import{c as u,u as c}from"./index-BihzpQvp.js";import{r as o}from"./router-BHrIduv9.js";const m=async()=>{try{const e=await u.get("/restaurant");console.log("Restaurant Response:",e);const a=e.data.restaurants||e.data.data||e.data;return Array.isArray(a)?a:[]}catch(e){return console.error("Error fetching restaurants:",e),[]}},p=async()=>{try{const e=await u.get("/cafe");console.log("Cafe Response:",e);const a=e.data.cafes||e.data.data||e.data;return Array.isArray(a)?a:[]}catch(e){return console.error("Error fetching cafes:",e),[]}},B=()=>{const{data:e=[],isLoading:a}=c({queryKey:["restaurants"],queryFn:m,staleTime:3e5}),{data:n=[],isLoading:g}=c({queryKey:["cafes"],queryFn:p,staleTime:300*1e3}),[i,l]=o.useState([]),r=o.useMemo(()=>[...e||[],...n||[]],[e,n]),y=a||g,d=o.useMemo(()=>!r||r.length===0?[]:[...new Set(r.map(t=>t.category).filter(Boolean))],[r]);return{restaurants:e,cafes:n,allDining:r,getAllCategories:d,getDineByCategory:t=>r?t==="All"?r:r.filter(s=>s.category===t):[],getDineById:t=>r?r.find(s=>String(s.IdPage).toLowerCase()===String(t).toLowerCase()):null,toggleFavorite:t=>{l(s=>s.includes(t)?s.filter(f=>f!==t):[...s,t])},isFavorite:t=>i.includes(t),favorites:i,isLoading:y}};export{B as u};
//# sourceMappingURL=useDine-DSC5_Ipe.js.map
