import{o as u,u as c}from"./index-DTmA3qZG.js";import{r as o}from"./router-BVMkK0Zm.js";const m=async()=>{try{const t=await u.get("/restaurant"),a=t.data.restaurants||t.data.data||t.data;return Array.isArray(a)?a:[]}catch(t){return console.error("Error fetching restaurants:",t),[]}},C=async()=>{try{const t=await u.get("/cafe"),a=t.data.cafes||t.data.data||t.data;return Array.isArray(a)?a:[]}catch(t){return console.error("Error fetching cafes:",t),[]}},B=()=>{const{data:t=[],isLoading:a}=c({queryKey:["restaurants"],queryFn:m,staleTime:3e5}),{data:n=[],isLoading:g}=c({queryKey:["cafes"],queryFn:C,staleTime:300*1e3}),[i,l]=o.useState([]),r=o.useMemo(()=>[...t||[],...n||[]],[t,n]),y=a||g,d=o.useMemo(()=>!r||r.length===0?[]:[...new Set(r.map(e=>e.category).filter(Boolean))],[r]);return{restaurants:t,cafes:n,allDining:r,getAllCategories:d,getDineByCategory:e=>r?e==="All"?r:r.filter(s=>s.category===e):[],getDineById:e=>r?r.find(s=>String(s.IdPage).toLowerCase()===String(e).toLowerCase()):null,toggleFavorite:e=>{l(s=>s.includes(e)?s.filter(f=>f!==e):[...s,e])},isFavorite:e=>i.includes(e),favorites:i,isLoading:y}};export{B as u};
//# sourceMappingURL=useDine-KwQkxtu1.js.map
