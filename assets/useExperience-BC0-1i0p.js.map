{"version":3,"file":"useExperience-BC0-1i0p.js","sources":["../../src/services/Experience.js","../../src/hooks/useExperience.jsx"],"sourcesContent":["import api from \"@/api/axios\";\r\n\r\nexport const getExperiences = async () => {\r\n  const response = await api.get(\"/experience\");\r\n  return response.data.experiences;\r\n};","import { useQuery } from \"@tanstack/react-query\";\r\nimport { getExperiences} from \"@/services/Experience\";\r\nimport { useState } from \"react\";\r\n\r\nexport const useExperiences = () => {\r\n  const {\r\n    data: experiences,\r\n    isLoading,\r\n    error,\r\n    isError,\r\n  } = useQuery({\r\n    queryKey: [\"experiences\"],\r\n    queryFn: getExperiences,\r\n    retry: 2,\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n\r\n  const getAllCategories = () => {\r\n    if (!experiences || experiences.length === 0) return [];\r\n    return [...new Set(experiences.map((d) => d.category))];\r\n  };\r\n\r\n  const getExperiencesByCategory = (category) => {\r\n    if (!experiences) return [];\r\n    return experiences.filter((d) => d.category === category);\r\n  };\r\n\r\n  const getExperienceById = (idPage) => {\r\n    if (!experiences) return null;\r\n    return experiences.find(\r\n      (d) => String(d.IdPage).toLowerCase() === String(idPage).toLowerCase()\r\n    );\r\n  };\r\n\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  const toggleFavorite = (id) => {\r\n    setFavorites((prev) =>\r\n      prev.includes(id) ? prev.filter((f) => f !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const isFavorite = (id) => favorites.includes(id);\r\n\r\n  return {\r\n    experiences,\r\n    getAllCategories,\r\n    getExperiencesByCategory,\r\n    getExperienceById,\r\n    toggleFavorite,\r\n    isFavorite,\r\n    isLoading,\r\n    error,\r\n    isError,\r\n  };\r\n};"],"names":["getExperiences","api","useExperiences","experiences","isLoading","error","isError","useQuery","getAllCategories","d","getExperiencesByCategory","category","getExperienceById","idPage","favorites","setFavorites","useState","id","prev","f"],"mappings":"0FAEO,MAAMA,EAAiB,UACX,MAAMC,EAAI,IAAI,aAAa,GAC5B,KAAK,YCAVC,EAAiB,IAAM,CAClC,KAAM,CACJ,KAAMC,EACN,UAAAC,EACA,MAAAC,EACA,QAAAC,CAAA,EACEC,EAAS,CACX,SAAU,CAAC,aAAa,EACxB,QAASP,EACT,MAAO,EACP,UAAW,GAAS,CACrB,EAEKQ,EAAmB,IACnB,CAACL,GAAeA,EAAY,SAAW,EAAU,CAAA,EAC9C,CAAC,GAAG,IAAI,IAAIA,EAAY,IAAKM,GAAMA,EAAE,QAAQ,CAAC,CAAC,EAGlDC,EAA4BC,GAC3BR,EACEA,EAAY,OAAQM,GAAMA,EAAE,WAAaE,CAAQ,EAD/B,CAAA,EAIrBC,EAAqBC,GACpBV,EACEA,EAAY,KAChBM,GAAM,OAAOA,EAAE,MAAM,EAAE,gBAAkB,OAAOI,CAAM,EAAE,YAAA,CAAY,EAF9C,KAMrB,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,CAAA,CAAE,EAU7C,MAAO,CACL,YAAAb,EACA,iBAAAK,EACA,yBAAAE,EACA,kBAAAE,EACA,eAbsBK,GAAO,CAC7BF,EAAcG,GACZA,EAAK,SAASD,CAAE,EAAIC,EAAK,OAAQC,GAAMA,IAAMF,CAAE,EAAI,CAAC,GAAGC,EAAMD,CAAE,CAAA,CAEnE,EAUE,WARkBA,GAAOH,EAAU,SAASG,CAAE,EAS9C,UAAAb,EACA,MAAAC,EACA,QAAAC,CAAA,CAEJ"}